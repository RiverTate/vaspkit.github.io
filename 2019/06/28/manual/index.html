<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  <title>VASPKIT v0.80 Menual | VASPKIT</title>
  <meta name="keywords" content>
  <meta name="description" content="VASPKIT v0.80 Menual | VASPKIT">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="活动目的在目前的第一性原理计算领域，Vienna Ab initio simulation package (VASP)已经成为应用最广泛、用户数量最庞大、发表论文最多的软件包之一。市面上已经有不少可以对VASP做前处理或者后处理的软件，VASPKIT就是其中相当出色的一款，它集中了许多热门的后处理模块。目前的用户规模庞大，发展势头强劲。为激发广大计算化学工作者动手编程的热情，锻炼大家自己动手以编">
<meta name="keywords" content="VASP,vaspkit">
<meta property="og:type" content="article">
<meta property="og:title" content="第一届VASPKIT杯程序设计比赛之异质结建模">
<meta property="og:url" content="http://vaspkit.com/2019/07/01/vaspkit_cup/index.html">
<meta property="og:site_name" content="VASPKIT">
<meta property="og:description" content="活动目的在目前的第一性原理计算领域，Vienna Ab initio simulation package (VASP)已经成为应用最广泛、用户数量最庞大、发表论文最多的软件包之一。市面上已经有不少可以对VASP做前处理或者后处理的软件，VASPKIT就是其中相当出色的一款，它集中了许多热门的后处理模块。目前的用户规模庞大，发展势头强劲。为激发广大计算化学工作者动手编程的热情，锻炼大家自己动手以编">
<meta property="og:locale" content="English">
<meta property="og:updated_time" content="2019-06-28T09:08:17.809Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第一届VASPKIT杯程序设计比赛之异质结建模">
<meta name="twitter:description" content="活动目的在目前的第一性原理计算领域，Vienna Ab initio simulation package (VASP)已经成为应用最广泛、用户数量最庞大、发表论文最多的软件包之一。市面上已经有不少可以对VASP做前处理或者后处理的软件，VASPKIT就是其中相当出色的一款，它集中了许多热门的后处理模块。目前的用户规模庞大，发展势头强劲。为激发广大计算化学工作者动手编程的热情，锻炼大家自己动手以编">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value>
</div>

<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg">
</a>
<div class="author">
    <span>VASPKIT</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"/>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/tamaswells/VASPKIT_manual" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"/>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:vaspkit@gmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"/>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(8)</small></div></li>
    
        
            
            <li><div data-rel="vaspkit">vaspkit<small>(8)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a style="border-right: 1px solid #fff; width: 49%" class="about site_url" href="/about">关于</a><a style="width: 50%" class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="8">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="/www.vasp.at">VASP</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off" id="local-search-input">
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none">
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">VASP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">vaspkit</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">能带</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">Band structure</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a class="vaspkit " href="/2019/06/03/chgdiff/" data-tag data-author="Jincheng Liu">
            <span class="post-title" title="Charge density difference">Charge density difference</span>
            <span class="post-date" title="2019-06-03 00:00:00">2019/06/03</span>
        </a>
        
        <a class="vaspkit " href="/2019/06/17/vaspkit-macropot/" data-tag="VASP,vaspkit" data-author="Jincheng Liu">
            <span class="post-title" title="macroscopic-averaged potential">macroscopic-averaged potential</span>
            <span class="post-date" title="2019-06-17 00:00:00">2019/06/17</span>
        </a>
        
        <a class="vaspkit " href="/2019/05/21/vaspkit-avgpot/" data-tag="VASP,能带" data-author="Jincheng Liu">
            <span class="post-title" title="Plane-average Potential and Work Function">Plane-average Potential and Work Function</span>
            <span class="post-date" title="2019-05-21 00:00:00">2019/05/21</span>
        </a>
        
        <a class="vaspkit " href="/2019/07/01/vaspkit_cup/" data-tag="VASP,vaspkit" data-author="vaspkit group">
            <span class="post-title" title="第一届VASPKIT杯程序设计比赛之异质结建模">第一届VASPKIT杯程序设计比赛之异质结建模</span>
            <span class="post-date" title="2019-07-01 00:00:00">2019/07/01</span>
        </a>
        
        <a class="vaspkit " href="/2019/05/19/pband/" data-tag="VASP,能带" data-author="Jincheng Liu">
            <span class="post-title" title="Draw Band Structure figure by Origin">Draw Band Structure figure by Origin</span>
            <span class="post-date" title="2019-05-19 00:00:00">2019/05/19</span>
        </a>
        
        <a class="vaspkit " href="/2019/05/14/band/" data-tag="VASP,Band structure" data-author="Jincheng Liu">
            <span class="post-title" title="Band Structure calculation (Pure functional)">Band Structure calculation (Pure functional)</span>
            <span class="post-date" title="2019-05-14 00:00:00">2019/05/14</span>
        </a>
        
        <a class="vaspkit " href="/2019/05/22/vaspkit-hse-band/" data-tag="VASP,能带" data-author="Jincheng Liu">
            <span class="post-title" title="Band Structure calculation (Hybird functional)">Band Structure calculation (Hybird functional)</span>
            <span class="post-date" title="2019-05-22 00:00:00">2019/05/22</span>
        </a>
        
        <a class="vaspkit " href="/2019/06/28/manual/" data-tag data-author="Jincheng Liu">
            <span class="post-title" title="VASPKIT v0.80 Menual">VASPKIT v0.80 Menual</span>
            <span class="post-date" title="2019-06-28 00:00:00">2019/06/28</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-manual" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">VASPKIT v0.80 Menual</h1>
    
    <div class="article-meta">
        
        
        <span class="author"><a href="javascript:">Jincheng Liu</a></span>
        
        
        <span class="book">
            
                <a href="javascript:" data-rel="vaspkit">vaspkit</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title="更新时间: 2019-06-28 17:08:23">2019-06-28 00:00</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Quick-Start"><span class="toc-text">1. Quick Start</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Generate-Input-Files"><span class="toc-text">2. Generate Input Files</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Generate-INCAR"><span class="toc-text">2.1 Generate INCAR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Generate-KPOINTS"><span class="toc-text">2.2 Generate KPOINTS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Generate-POTCAR"><span class="toc-text">2.3 Generate POTCAR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-Generate-POSCAR"><span class="toc-text">2.4 Generate POSCAR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-Input-File-Self-Check"><span class="toc-text">2.5 Input File Self Check</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Band-Structure"><span class="toc-text">3 Band Structure</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Pre-process-Band-Structure-pure-functional"><span class="toc-text">3.1 Pre-process Band Structure (pure functional)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Single-layer-MoS2"><span class="toc-text">Example: Single-layer MoS2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Post-process-Band-Structure-pure-functional"><span class="toc-text">3.2 Post-process Band Structure (pure functional)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Pre-process-Band-Structure-hybrid-functional"><span class="toc-text">3.3 Pre-process Band Structure (hybrid functional)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-single-layer-MoS2"><span class="toc-text">Example: single layer MoS2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-Post-process-Band-Structure-hybrid-functional"><span class="toc-text">3.4 Post-process Band Structure (hybrid functional)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-Effective-Mass"><span class="toc-text">3.5 Effective Mass</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Single-Layer-MoS2-effective-mass"><span class="toc-text">Example: Single Layer MoS2 effective mass</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-Band-unfolding"><span class="toc-text">3.6 Band-unfolding</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Graphene-Band-unfolding"><span class="toc-text">Example: Graphene Band-unfolding</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-3D-Band-Structure"><span class="toc-text">3.7 3D Band Structure</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Graphene-3D-Band-Structure"><span class="toc-text">Example:  Graphene 3D Band Structure</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-Fermi-Surface"><span class="toc-text">3.8 Fermi Surface</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Cu-Fermi-Surface"><span class="toc-text">Example: Cu Fermi Surface</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Density-of-States"><span class="toc-text">4 Density of States</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Extract-and-output-DOS-and-pDOS"><span class="toc-text">4.1 Extract and output DOS and pDOS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-pdos-of-CO-adsorption-on-Ni-100-surface"><span class="toc-text">Example: pdos of CO adsorption on Ni(100) surface.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-D-band-Center"><span class="toc-text">4.2 D-band Center</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Thermo-Energy-Correction"><span class="toc-text">5 Thermo Energy Correction</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-Gas-Molecule-Free-Energy-Correction"><span class="toc-text">5.1 Gas Molecule Free Energy Correction</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Thermo-energy-correction-for-O2"><span class="toc-text">Example: Thermo energy correction for O2:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-Adsorbed-Molecular-Free-Energy-Correction"><span class="toc-text">5.2 Adsorbed Molecular Free Energy Correction</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Thermo-energy-correction-for-adsorbed-O-Au-111"><span class="toc-text">Example: Thermo energy correction for adsorbed O/Au(111)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Elastic-Properties"><span class="toc-text">6 Elastic Properties</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Optic-Properties"><span class="toc-text">7 Optic Properties</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Structure-Edition-and-Symmetry-Tools"><span class="toc-text">8 Structure Edition and Symmetry Tools</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-Redefine-Lattice"><span class="toc-text">8.1 Redefine Lattice</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Build-operatorname-Au-111-sqrt-3-times-sqrt-3-R-30-circ-slab-from-primitive-slab"><span class="toc-text">Example: Build $\operatorname{Au}(111)-(\sqrt{3} \times \sqrt{3}) R 30^{\circ}$ slab from primitive slab</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-Build-Supercell"><span class="toc-text">8.2 Build Supercell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-Fix-Atoms-by-Layers"><span class="toc-text">8.3 Fix Atoms by Layers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-Fix-Atoms-by-Height"><span class="toc-text">8.4 Fix Atoms by Height</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-Swap-Axis-of-Lattice-Vector"><span class="toc-text">8.5 Swap Axis of Lattice Vector</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-Potential-related"><span class="toc-text">9 Potential related</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-Planar-Average-Potential"><span class="toc-text">9.1 Planar Average Potential</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-Macroscopic-Averaged-Potential"><span class="toc-text">9.2 Macroscopic Averaged Potential</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-Density-related"><span class="toc-text">10 Density related</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-Charge-Density-and-Spin-Density"><span class="toc-text">10.1 Charge Density and Spin Density</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-Charge-Density-Difference"><span class="toc-text">10.2 Charge Density Difference</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Charge-density-difference-of-two-fragments"><span class="toc-text">Example: Charge density difference of two fragments</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Deformation-charge-density-of-CO"><span class="toc-text">Example: Deformation charge density of CO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-Charge-density-difference-of-InSe-with-electric-field"><span class="toc-text">Example: Charge density difference of InSe with electric field</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-WaveFunction-Visualization-in-Real-Space"><span class="toc-text">10.3 WaveFunction Visualization in Real-Space</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-WaveFunction-of-CO-molecule"><span class="toc-text">Example: WaveFunction of CO molecule</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-WaveFunction-of-MoS2-WS2-Heterojuctions"><span class="toc-text">Example: WaveFunction of MoS2/WS2 Heterojuctions</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-Other-Functions"><span class="toc-text">12 Other Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-Molecular-Dynamics-process"><span class="toc-text">12.1 Molecular Dynamics process</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-File-Format-Transfer"><span class="toc-text">12.2 File Format Transfer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-USER-interface"><span class="toc-text">12.3 USER interface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4"><span class="toc-text">12.4</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="../images/vaspkit-manual/vaspkit-manual1.jpg" alt></p>
<p></p><p align="center">VASPKIT Manual v0.80</p><p></p>
<p></p><p align="center">June, 28th, 2019</p><p></p>
<p><div style="page-break-after: always;"></div><br>Thank you for downloading VASPKIT!</p>
<p>VASPKIT is a Pre- and Post-Processing Program for the VASP (Vienna Ab initio Simulation Package) code. VASPKIT is written by Fortran and also call some python scripts, used under Linux environment. It is very powerful at preparing input file, extracting output information, collecting data, doing analysis. VASP is a plane-wave DFT packages for atomic scale materials modelling. VASP users are widely distributed, such as chemistry, physics, materials, enviornment. </p>
<p>The newest program version is always available on this website, <a href="http://vaspkit.sourceforge.net/" target="_blank" rel="noopener">http://vaspkit.sourceforge.net/</a>.</p>
<p><strong>########## citation ##########</strong></p>
<p><strong>Ve WANG, Nan XU, Jin-Cheng LIU VASPKIT: A Pre- and Post-Processing Program for the VASP Code. <a href="http://vaspkit.sourceforge.net" target="_blank" rel="noopener">http://vaspkit.sourceforge.net</a>.</strong></p>
<p><strong>########## citation ##########</strong></p>
<p>[TOC]</p>
<p><div style="page-break-after: always;"></div></p>
<p><div style="page-break-after: always;"></div></p>
<h2 id="1-Quick-Start"><a href="#1-Quick-Start" class="headerlink" title="1. Quick Start"></a>1. Quick Start</h2><p>(1) First unzip VASPKIT package.</p>
<pre><code>tar -zxvf vaspkit.0.80.tar.gz
</code></pre><p>In order to ensure the full functionality of VASPKIT, please configure the environment of the vaspkit from <code>~/.vaspkit</code> file. Enter VASPKIT folder, and copy the environment variable file <code>how_to_set_environment_variable</code> to users’ home directory by running the following command under the bash terminal.</p>
<pre><code>cd vaspkit.0.80
cp -f how_to_set_environment_variable ~/.vaspkit
</code></pre><p>Edit the <code>.vaspkit</code> file,</p>
<pre><code>vi ~/.vaspkit
</code></pre><p>The configuration file is mainly used to set the environment variables of VASPKIT, including VASP version information, directory of the target pseudo potential, selection of functional, whether to use recommended POTCAR, and so on. </p>
<p>Usually, the <code>PBE_PATH</code> is the only one that need to be modified according to your POTCAR path.</p>
<pre><code># cp how_to_set_environment_variable ~/.vaspkit and modify the ~/.vaspkit 

VASP5                    .TRUE.             # .TRUE. or .FALSE.; Set .FALSE. if vasp.4.x 
GGA_PATH                 &#39;~/POTCAR/GGA&#39;     #  Path of GGA potential. 
PBE_PATH                 &#39;~/POTCAR/PBE&#39;     #  Path of PBE potential. 
LDA_PATH                 &#39;~/POTCAR/LDA&#39;     #  Path of LDA potential. 
POTCAR_TYPE               PBE               #  PBE, GGA or LDA; 
GW_POTCAR                .FALSE.            # .TRUE. or .FALSE.;
RECOMMENDED_POTCAR       .TRUE.             # .TRUE. or .FALSE.; 
MINI_INCAR               .FALSE.            # .TRUE. or .FALSE.; 
SET_FERMI_ENERGY_ZERO    .TRUE.             # .TRUE. or .FALSE.;  
SET_INCAR_WRITE_MODE     BACK-UP-OLD        #  OVERRIDE, APPEND,BACK-UP-OLD,BACK-UP-NEW;
</code></pre><p>(2) Setting up local repository pseudo potential directory. For example, unzip the VASP PAW_PBE pseudo potentials at <code>~/POTCAR/PBE</code> directory.</p>
<p>(3) Add the absolute path of the vaspkit to the environment variable. </p>
<pre><code>echo &#39;export PATH=/home/vaspkit.0.80/bin/:$PATH&#39; &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre><p>Replace the absolute path of the <code>/home/vaspkit.0.80/bin/</code> directory by user’s own VASPKIT executable path.</p>
<p>VASPKIT provides an automatic configuration script <code>setup.sh</code> since version 0.73. Execute</p>
<p>​     <code>source setup.sh</code> </p>
<p>or <code>bash setup.sh</code></p>
<p>If <code>~/.vaspkit</code> already exists, the above operation will not be overwritten. The old version of the environment variable file will be kept.</p>
<p>After above settings, you can start the VASPKIT by directly typing <code>vaspkit</code>. Then, you will see a very cute interface that is consistent with the one shown below:</p>
<pre><code>             \\\///         
           / _  _ \       Hey, you must know what you are doing.  
         (| (.)(.) |)     Otherwise you might get wrong results!  
 +-----.OOOo--()--oOOO.------------------------------------------+
 |       A Pre- and Post-Processing Program for VASP Code        |
 |          VASPKIT Version: 0.80.beta1 (20 Apr. 2019)           |
 |          Developers: Ve WANG, Nan XU, Jin-Cheng LIU           |
 |          Bugs and Suggestions to vaspkit@gmail.com            |
 +-----.oooO-----------------------------------------------------+
        (   )   Oooo.     
         \ (    (   )     
          \_)    ) /      
                (_/       
 ===================== Structural Options ========================
 1)  VASP Input Files Generator    2)  Elastic-Properties         
 3)  K-Path Generator              4)  Structure Editor           
 5)  Catalysis-ElectroChemi Kit    6)  Symmetry Search            

 ===================== Electronic Options ========================
 11) Density-of-States             21) DFT Band-Structure         
 23) 3D Band-Structure             25) Hybrid-DFT Band-Structure  
 26) Fermi-Surface                 28) Band-Structure Unfolding   

 =========== Charge &amp; Potential &amp; Wavefunction Options ===========
 31) Charge &amp; Spin Density         42) Potential-Related          
 51) Wave-Function Analysis  
 ====================== Misc Utilities ===========================
 71) Optical-Properties            72) Molecular-Dynamics Kit 
 73) VASP2BoltzTraP Interface      74) USER interface
 91) Semiconductor Calculator      92) 2D-Materials Kit       

 0)  Quit                                                         
 ------------&gt;&gt;
</code></pre><p>If the following problem occurs, your LINUX dependent library version is too low and needs to be upgraded (not recommended), you can contact the developer to get the version compiled in the low version LINUX environment.</p>
<pre><code>vaspkit: /lib64/libc.so.6: version `GLIBC_2.14&#39; not found (required by vaspkit)
</code></pre><p>If the<code>-bash: line 7: ./vaspkit: Permission denied permission</code> issue occurs, simply add the VASPKIT execute permission:</p>
<pre><code>chmod u+x /home/vaspkit.0.73/bin/vaspkit
</code></pre><p><div style="page-break-after: always;"></div></p>
<h2 id="2-Generate-Input-Files"><a href="#2-Generate-Input-Files" class="headerlink" title="2. Generate Input Files"></a>2. Generate Input Files</h2><p>In order to do a VASP calculation job, usually one need 4 files, INCAR, POSCAR, POTCAR and KPOINTS.</p>
<ol>
<li><p>INCAR contains all keywords and tells VASP what to calculate; </p>
</li>
<li><p>POSCAR contains lattice parameters, atomic coordinates information, and atomic velocity information (for MD);</p>
</li>
<li>POTCAR is a pseudo potential file, which is USPP or PAW type;</li>
<li>KPOINTS, which can be included in INCAR, but not recommended for omitting. It contains K-points information in the reciprocal space at which the wave function integrates to obtain the charge density. </li>
</ol>
<pre><code> 101) Customize INCAR File
 102) Generate KPOINTS File for SCF Calculation
 103) Generate POTCAR File with Default Setting
 104) Generate POTCAR File with User Specified Potential
 105) Generate POSCAR File from cif (no fractional occupations)
 106) Generate POSCAR File from Material Studio xsd (retain fixes)
 107) Reformat POSCAR File in Specified Order of Elements
 108) Successive Procedure to Generate VASP Files and Check
 109) Check All VASP Files
</code></pre><h3 id="2-1-Generate-INCAR"><a href="#2-1-Generate-INCAR" class="headerlink" title="2.1 Generate INCAR"></a>2.1 Generate INCAR</h3><p>Run VASPKIT in the directory containing POSCAR. Enter <code>1</code> to select the function VASP Input Files Generator, and then enter <code>101</code>to select customize INCAR File, you will get the following display information:</p>
<pre><code>101
 +-------------------------- Warm Tips --------------------------+
                You MUST Know What You Are Doing
  Some Parameters in INCAR File Neet To Be Set/Adjusted Manually      
 +---------------------------------------------------------------+
 ======================== INCAR Options ==========================
 ST) Static-Calculation            SR) Standard Relaxation        
 MG) Magnetic Properties           SO) Spin-Orbit Coupling         
 D3) DFT-D3 no-damping Correction  H6) HSE06 Calculation         
 PU) DFT+U Calculation             MD) Molecular Dynamics        
 GW) GW0 Calculation               BS) BSE Calculation  
 DC) Elastic Constant              EL) ELF Calculation       
 BD) Bader Charge Analysis         OP) Optical Properties        
 EC) Static Dielectric Constant    PC) Decomposed Charge Density   
 FD) Phonon-Finite-Displacement    DT) Phonon-DFPT            
 NE) Nudged Elastic Band (NEB)     DM) The Dimer Method             
 FQ) Frequence Calculations        LR) Lattice Relaxation          

 0)   Quit                                                       
 9)   Back      
 ------------&gt;&gt;
 Input Key-Parameters (STH6D3 means HSE06-D3 Static-Calcualtion)
</code></pre><p>Enter the words for specific task. The generated INCAR file will contain corresponding keywords that are required for this task. </p>
<p>For example, to do a single-point calculation (<code>ST</code>) with hybrid functional HSE06 (<code>H6</code>) and DFT-D3 (<code>D3</code>) vdW correction, enter <code>STH6D3</code>. </p>
<p>If enter <code>LR</code>, one will get a INCAR for lattice relaxation task with detail comments:</p>
<pre><code>Global Parameters
  ISTART =  1            (Read existing wavefunction; if there)
  # ISPIN =  2           (Spin polarised DFT)
  # ICHARG =  11         (Non-self-consistent: GGA/LDA band structures)
  LREAL  = Auto          (Projection operators: automatic)
  # ENCUT  =  400        (Cut-off energy for plane wave basis set, in eV)
  PREC   =  Normal       (Precision level)
  LWAVE  = .TRUE.        (Write WAVECAR or not)
  LCHARG = .TRUE.        (Write CHGCAR or not)
  ADDGRID= .TRUE.        (Increase grid; helps GGA convergence)
  # LVTOT  = .TRUE.      (Write total electrostatic potential into LOCPOT or not)
  # LVHAR  = .TRUE.      (Write ionic+Hartree electrostatic potential into LOCPOT or not)
  # NELECT =             (No. of electrons: charged cells; be careful)
  # LPLANE = .TRUE.      (Real space distribution; supercells)
  # NPAR   = 4           (Max is no. nodes; don&#39;t set for hybrids)
  # NWRITE = 2           (Medium-level output)
  # KPAR   = 2           (Divides k-grid into separate groups)
  # NGX    = 500         (FFT grid mesh density for nice charge/potential plots)
  # NGY    = 500         (FFT grid mesh density for nice charge/potential plots)
  # NGZ    = 500         (FFT grid mesh density for nice charge/potential plots)

Lattice Relaxation
  NSW    =  300          (number of ionic steps)
  ISMEAR =  0            (gaussian smearing method )
  SIGMA  =  0.05         (please check the width of the smearing)
  IBRION =  2            (Algorithm: 0-MD; 1-Quasi-New; 2-CG)
  ISIF   =  3            (optimize atomic coordinates and lattice parameters)
  EDIFFG = -1.5E-02      (Ionic convergence; eV/AA)
  PREC   =  Accurate     (Precision level)
</code></pre><p>If one want a cleaner INCAR without comments, set the  <code>~/.vaspkit</code> file with:</p>
<pre><code>MINI_INCAR               .TRUE.
</code></pre><p>The automatic generated INCAR for lattice relaxation task will be: </p>
<pre><code>Global Parameters
  ISTART = 1
  LREAL = Auto
  PREC = Normal
  LWAVE = .TRUE.
  LCHARG = .TRUE.
  ADDGRID= .TRUE.

Lattice Relaxation
  NSW = 300
  ISMEAR = 0
  SIGMA = 0.05
  IBRION = 2
  ISIF = 3
  EDIFFG = -1.5E-02
  PREC = Accurate
</code></pre><p>Users can also modify some parameters as they want from these INCAR file.</p>
<p>If there is already an INCAR file, the original INCAR will be overwritten as default. Edit the <code>~/.vaspkit</code> to change the INCAR output settings. Simply change the <code>SET_INCAR_WRITE_MODE</code> line.</p>
<pre><code>SET_INCAR_WRITE_MODE     OVERRIDE    #  OVERRIDE, APPEND,BACK-UP-OLD,BACK-UP-NEW;
</code></pre><div class="table-container">
<table>
<thead>
<tr>
<th>OVERRIDE</th>
<th>New content added to the tail of original INCAR</th>
</tr>
</thead>
<tbody>
<tr>
<td>APPEND</td>
<td>New content added to the tail of old INCAR</td>
</tr>
<tr>
<td>BACK-UP-OLD</td>
<td>back up the new INCAR</td>
</tr>
<tr>
<td>BACK-UP-NEW</td>
<td>the new INCAR to INCAR.new</td>
</tr>
</tbody>
</table>
</div>
<h3 id="2-2-Generate-KPOINTS"><a href="#2-2-Generate-KPOINTS" class="headerlink" title="2.2 Generate KPOINTS"></a>2.2 Generate KPOINTS</h3><p>For self-consistent calculation, users need to prepare a KPOINTS file to specify density of K-points and the method for automatic k-mesh generation. </p>
<p>VASPKIT can generate KPOINTS file automatically with pre-exist POSCAR file. Run VASPKIT option <code>1) VASP Input Files Generator</code>, then enter option <code>102</code> to generate KPOINTS file for SCF Calculation. Then input the K-mesh scheme according to the following display information:</p>
<pre><code>102
 ======================= K-Mesh Scheme ==========================
 1) Monkhorst-Pack Scheme                            
 2) Gamma Scheme                                     

 0)   Quit                                             
 9)   Back                                             
 -------------&gt;&gt;
</code></pre><p>Enter <code>1</code> to select the original Monkhorst-Pack scheme,</p>
<p>Enter <code>2</code> to select the Gamma centered Monkhorst-Pack scheme.</p>
<p>Then, VASPKIT will ask us to input KPT-Resolved Value between K-points in reciprocal cell in units of 2$\pi$Å<sup>-1</sup>. </p>
<pre><code>2
  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
 +-------------------------- Warm Tips --------------------------+

 * Accuracy Levels: Gamma-Only: 0;              
    Low: 0.06~0.04;             
    Medium: 0.04~0.03;          
    Fine: 0.02-0.01.            
 * 0.03-0.04 is Generally Precise Enough!                
   +---------------------------------------------------------------+
    Input KPT-Resolved Value (e.g., 0.04, in unit of 2*PI/Angstrom): 
    ------------&gt;&gt;
</code></pre><p>Number of K-points increases when the KPT-resolved value decreases. Number of K-points decreases when the KPT-resolved value increase. For each direction, the number is determined by </p>
<script type="math/tex; mode=display">
N=\max \left(1,\left|\vec{b}_{i}\right| / \mathrm{KPTResolvedValue}\right)</script><p>where $\vec{b}_{i}$ are the reciprocal lattice vectors. These values are rounded to the next integer greater than or equal to <strong><em>N</em></strong>. The recommend value ~0.04 (2$\pi$*Å<sup>-1</sup>) is enough for most system. This parameter is similar as the parameter KSPACING in INCAR. But the unit is different. Unit of KSPACING is Å<sup>-1</sup>, and the unit of VASPKIT is 2$\pi$Å<sup>-1</sup>. </p>
<p>The first line of output KPOINTS file show the users’ defined KPT-Resolved Value.</p>
<pre><code>K-Mesh Generated with KP-Resolved Value (...): 0.020
0
Gamma
  14  14  14
0.0  0.0  0.0
</code></pre><h3 id="2-3-Generate-POTCAR"><a href="#2-3-Generate-POTCAR" class="headerlink" title="2.3 Generate POTCAR"></a>2.3 Generate POTCAR</h3><p>When generating KPOINTS, POTCAR will also be generate automatically. Or run VASPKIT <code>103</code> to generate POTCAR.</p>
<pre><code>103
  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (02) Written POTCAR File with the Standard Potential!
</code></pre><p>It reads the elements information from POSCAR and combines the corresponding POTCAR from the pseudo potential folders that you set in <code>~/.vaspkit</code>.</p>
<pre><code>GGA_PATH                 &#39;~/POTCAR/GGA&#39;     #  Path of GGA potential. 
PBE_PATH                 &#39;~/POTCAR/PBE&#39;     #  Path of PBE potential. 
LDA_PATH                 &#39;~/POTCAR/LDA&#39;     #  Path of LDA potential.
POTCAR_TYPE               PBE               #  PBE, GGA or LDA; 
RECOMMENDED_POTCAR       .TRUE.             # .TRUE. or .FALSE.;
</code></pre><p>Set <code>POTCAR_TYPE</code> to <code>PBE</code>, <code>GGA</code>, or<code>LDA</code> as you want. The <code>RECOMMENDED_POTCAR</code> tag control whether to use recommended potentials from VASP manual (Page. 195, 2018.10.29, <a href="http://cms.mpi.univie.ac.at/vasp/vasp/Recommended_PAW_potentials_DFT_calculations_using_vasp_5_2.html" target="_blank" rel="noopener">http://cms.mpi.univie.ac.at/vasp/vasp/Recommended_PAW_potentials_DFT_calculations_using_vasp_5_2.html</a>). If <code>RECOMMENDED_POTCAR</code> is <code>.FALSE.</code>, POTCAR with no extensions will be used. If <code>RECOMMENDED_POTCAR</code> is <code>.TRUE.</code>, official recommended POTCAR will be used.</p>
<p>POTCAR types:</p>
<ol>
<li>No extensions “_”</li>
<li><code>_d</code>. An extension d, treat the <em>d</em> semi core states as valence state.</li>
<li><code>_pv</code> or <code>_sv</code>. The extensions <code>_pv</code> and <code>_sv</code> imply that the <em>p</em> and <em>s</em> semi-core states are<br>treated as valence states.</li>
<li><code>_h</code> and <code>_s</code>. An extension <code>_h</code> or<code>_s</code> implies that the potential is harder or softer than the standard potential and hence requires a higher or lower energy cutoff.</li>
<li>Pseudo hydrogen. ex: <code>H.5</code></li>
<li><p><code>_GW</code>. Used for GW calculation.</p>
<p>If one want to generate POTCAR for GW calculation, Set the <code>GW_POTCAR</code> to .TRUE. in <code>~/.vaspkit</code>. </p>
</li>
</ol>
<pre><code>GW_POTCAR                .TRUE.            # .TRUE. or .FALSE.;
</code></pre><p>VASPKIT also provide <code>104</code> tag to generate POTCAR manually by selecting the type of potential for each element.</p>
<pre><code>104
 --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...
 Auto detected POTCAR_TYPE is O, please type the one you want!
O_h
 Auto detected POTCAR_TYPE is Ti, please type the one you want!
Ti_sv
 --&gt;&gt; (2) Written POTCAR File with user specified Potential!
</code></pre><p>In this example, enter the customized type of potentials O and Ti. <code>Ti_sv</code> was chosen for Ti and <code>O_h</code> was chosen for O. If there is no user defined potential type in the list of potentials, VASPKIT will ask user re-enter.</p>
<h3 id="2-4-Generate-POSCAR"><a href="#2-4-Generate-POSCAR" class="headerlink" title="2.4 Generate POSCAR"></a>2.4 Generate POSCAR</h3><p>VASPKIT can transform .cif and .xsd  (Materials Studio format) files to POSCAR format by option <code>105</code> and <code>106</code>. </p>
<p><code>105</code> will call <code>/vaspkit.0.80/utilities/cif2pos.py</code> script.</p>
<pre><code>105
 Please type in the filename of cif-&gt;
al2o3.cif
Pleas input the order of element, `ENTER` for default!
Example: &#39;Al O&#39; in this CIF

  --&gt;&gt; (01) POSCAR has been generated...
</code></pre><p><code>106</code> will call <code>/vaspkit.0.80/utilities/xsd2pos.py</code> script automatically. Note that the atom fix information in .xsd file is kept when transform.</p>
<pre><code>106
 Build-&gt;Symmetry-&gt;Make P1,then select atoms to be fixed, Modify-&gt;Constraints-&gt;fi
 x fractional position-&gt;
 Please type in the filename of xsd-&gt;
CONTCAR-n2-3.xsd
  --&gt;&gt; (01) POSCAR has been generated...
</code></pre><p><code>107</code> can reorder the elements in POSCAR file.</p>
<pre><code>107
  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
 Please Type the New Order of Elements to Sort. 
 (Tip: The Initial Order of Elements in POSCAR File is: Al  O)  
 -------------&gt;&gt;
O Al
  --&gt;&gt; (02) Written POSCAR_REV File!
</code></pre><h3 id="2-5-Input-File-Self-Check"><a href="#2-5-Input-File-Self-Check" class="headerlink" title="2.5 Input File Self Check"></a>2.5 Input File Self Check</h3><p>VASPKIT can do format correction and pseudo potential check by option <code>109</code>. VASPKIT will automatically correct the INCAR and POSCAR formats and check if the POTCAR and POSCAR are consistent.</p>
<p><div style="page-break-after: always;"></div></p>
<h2 id="3-Band-Structure"><a href="#3-Band-Structure" class="headerlink" title="3 Band Structure"></a>3 Band Structure</h2><p>VASPKIT is very powerful at pre- and post- process VASP band structure calculation. </p>
<h3 id="3-1-Pre-process-Band-Structure-pure-functional"><a href="#3-1-Pre-process-Band-Structure-pure-functional" class="headerlink" title="3.1 Pre-process Band Structure (pure functional)"></a>3.1 Pre-process Band Structure (pure functional)</h3><p>To do band structure calculation, one need to prepare a primitive cell and corresponding K points path (K-path) alone Irreducible Brillouin Zone. Irreducible Brillouin Zone is the first Brillouin zone reduced by all of the symmetries in the points group of the lattice (point group of the crystal). Recognize and select high symmetry points, and link them along edges of Irreducible Brillouin Zone. </p>
<p>For example, conventional FCC metal cell, Irreducible Brillouin Zone, and high symmetry points:</p>
<p><img style="width:450px" src="../images/band/band1.png" alt="effective mass" align="center"></p>
<p>Conventional BCC metal cell, Irreducible Brillouin Zone, and high symmetry points:</p>
<p><img style="width:450px" src="../images/band/band2.png" alt="effective mass" align="center"></p>
<p>K-path is not unique. Usually, It is unnecessary to select all lines between all the high symmetry points. Representative and important line are selected and written as line-mode in KPOINTS file. For large-scale and high-throughout calculation, there should be a rule to define the path from structural information. pymatgen and seeK-path provide some solutions but only can be used for 3D system. VASPKIT provide a tool to generate K-path for 1D, 2D, and 3D materials based on a systematic rule:</p>
<p> <a href="http://dx.doi.org/10.1016/j.commatsci.2016.10.015" target="_blank" rel="noopener">Y. Hinuma, G. Pizzi, Y. Kumagai, F. Oba, I. Tanaka, Band structure diagram paths based on crystallography, Comp. Mat. Sci. 128, 140 (2017). DOI: 10.1016/j.commatsci.2016.10.015</a> .</p>
<p>Here are Brillouin zones for 2D materials:</p>
<p><img style="width:600px" src="../images/band/band3.png" alt="effective mass" align="center"></p>
<p>Other ways to get K-path automatically</p>
<p>pymatgen（<a href="https://pymatgen.org/）Computational" target="_blank" rel="noopener">https://pymatgen.org/）Computational</a> Materials Science 49 (2010) 299–312.<br>seeK-path（<a href="https://www.materialscloud.org/work/tools/seekpath）Computational" target="_blank" rel="noopener">https://www.materialscloud.org/work/tools/seekpath）Computational</a> Materials Science 128 (2017) 140–184.</p>
<p>VASPKIT use the same method as seeK-path website, and can generate line-mode KPOINTS file automatically off-line by tag <code>301</code>, <code>302</code>, and <code>303</code> for 1D, 2D, and 3D materials, respectively. </p>
<h4 id="Example-Single-layer-MoS2"><a href="#Example-Single-layer-MoS2" class="headerlink" title="Example: Single-layer MoS2"></a>Example: Single-layer MoS<sub>2</sub></h4><p>Band structure of single-layer MoS<sub>2</sub> without spin polarization without spin-orbital coupling.</p>
<p><img style="width:500px" src="../images/band/band6.png" alt="effective mass" align="center"></p>
<p>(1) Prepare MoS<sub>2</sub> POSCAR. </p>
<p>Because the K-path that generated by VASPKIT is based on standardized primitive cell, so please first standardize the POSCAR. For 2D material: Keep the center of z coordinates of 2D material at |<strong><em>c</em></strong>|/2. (i.e. fractional coordinate z = 0.5 ). This could be accomplished by VASPKIT <code>921</code> or <code>923</code>. VASPKIT <code>923</code> standardizes 2D crystal cell，(i) put the vacuum layer at z direction，(ii) put the 2D material to the center of z coordination：</p>
<p>For 3D material, use VASPKIT <code>602</code> to generate a standardized primitive cell, <code>PRIMCELL.vasp</code>, and replace the original POSCAR.</p>
<p>Here the standardized POSCAR of MoS<sub>2</sub> :</p>
<pre><code>MoS2
1.0
        3.1659998894         0.0000000000         0.0000000000
       -1.5829999447         2.7418363326         0.0000000000
        0.0000000000         0.0000000000        18.4099998474
    S   Mo
    2    1
Direct
     0.000000000         0.000000000         0.413899988
     0.000000000         0.000000000         0.586099982
     0.666666687         0.333333343         0.500000000
</code></pre><pre><code>92
 +-------------------------- Warm Tips --------------------------+
             Please Use These Features with CAUTION!     
 +---------------------------------------------------------------+
 ===================== 2D Materials Toolkit ======================
 921) Center Aomic-Layer along z direction                        
 922) Resize Vacuum Thickness                                     
 923) Standardize 2D Crystal Cell                                 
 926) Elastic Constants for 2D Materials       
 927) Valence and Conduction Band Edges Referenced to Vacuum Level
 929) Summary for Relaxed 2D Structure                            

 0)   Quit                                                        
 9)   Back                                                        
 ------------&gt;&gt;
923
 --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...
 --&gt;&gt; (2) Written POSCAR_NEW File!
</code></pre><p>（2）Do geometry optimization, and then do a single-point self-consistent calculation to get the CHGCAR。</p>
<p>（3）In a new folder run VASPKIT <code>302</code>, get 2D K-path files: (Note: please check the Space Group)</p>
<pre><code>302
 +-------------------------- Warm Tips --------------------------+
     See An Example in vaspkit/examples/seek_kpath/graphene_2D.        
 This feature is still experimental &amp; check the PRIMCELL.vasp file.       
 +---------------------------------------------------------------+
 --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...
 +-------------------------- Summary ----------------------------+
           The vacuum slab is supposed to be along c axis   
                           Prototype: AB2
           Total Atoms in Input Cell:   3
     Lattice Constants in Input Cell:   3.166   3.166  18.410
        Lattice Angles in Input Cell:  90.000  90.000 120.000
       Total Atoms in Primitive Cell:   3
 Lattice Constants in Primitive Cell:   3.166   3.166  18.410
    Lattice Angles in Primitive Cell:  90.000  90.000 120.000
                  2D Bravais Lattice: Hexagonal
                         Space Group: 187
                         Point Group: 26 [ D3h ]
                       International: P-6m2
                 Symmetry Operations:  12
                    Suggested K-Path: (shown in the next line)
 [ GAMMA-M-K-GAMMA ]
 +---------------------------------------------------------------+
 --&gt;&gt; (2) Written PRIMCELL.vasp file.
 --&gt;&gt; (3) Written KPATH.in File for Band-Structure Calculation.
 --&gt;&gt; (4) Written HIGH_SYMMETRY_POINTS File for Reference.
</code></pre><p><code>KPATH.in</code> file include line-mode K-path. Copy it to KPOINTS is OK.  <code>cp KPATH.in KPOINTS</code> . The default intersections is 20.</p>
<pre><code>K-Path Generated by VASPKIT
   20
Line-Mode
Reciprocal
   0.0000000000   0.0000000000   0.0000000000     GAMMA          
   0.5000000000   0.0000000000   0.0000000000     M              

   0.5000000000   0.0000000000   0.0000000000     M              
   0.3333333333   0.3333333333   0.0000000000     K              

   0.3333333333   0.3333333333   0.0000000000     K              
   0.0000000000   0.0000000000   0.0000000000     GAMMA
</code></pre><p>HIGH_SYMMETRY_POINTS include the information of all high symmetry points. VASPKIT do NOT promise the K-path is right, please compare the results from seeK-path website（<a href="https://www.materialscloud.org/work/tools/seekpath）" target="_blank" rel="noopener">https://www.materialscloud.org/work/tools/seekpath）</a></p>
<pre><code>High-symmetry points (in fractional coordinates). You can check them with the seekpath database [https://www.materialscloud.org/work/tools/seekpath].
   0.0000000000   0.0000000000   0.0000000000     GAMMA
   0.3333333333   0.3333333333   0.0000000000     K
   0.5000000000   0.0000000000   0.0000000000     M


If you use this module, please cite the following work:
[1] V. Wang, N. Xu, VASPKIT: A Pre- and Post-Processing Program for the VASP Code. http://vaspkit.sourceforge.net.
[2] V. Wang, Y.-Y. Liang, Y. Kawazeo, W.-T. Geng, High-Throughput Computational Screening of Two-Dimensional Semiconductors, arXiv:1806.04285.
</code></pre><p>（4）Read the CHGCAR from single-point calculation and submit VASP band structure job.</p>
<p>INCAR example：</p>
<pre><code>##### initial I/O #####
SYSTEM = MoS2  
ICHARG = 11 
LWAVE = .TRUE. 
LCHARG = .TRUE.
LVTOT = .FALSE.
LVHAR = .FALSE.
LELF = .FALSE. 
LORBIT = 11 
NEDOS = 1000 

##### SCF #####
ENCUT = 500
ISMEAR = 0 
SIGMA = 0.05
EDIFF = 1E-6
NELMIN = 5 
NELM = 300 
GGA = PE 
LREAL = .FALSE.
PREC = Accurate
</code></pre><h3 id="3-2-Post-process-Band-Structure-pure-functional"><a href="#3-2-Post-process-Band-Structure-pure-functional" class="headerlink" title="3.2 Post-process Band Structure (pure functional)"></a>3.2 Post-process Band Structure (pure functional)</h3><p>After calculation, do band structure post-process by VASPKIT option <code>21</code></p>
<p>Use <code>211</code> get the basic band structure. If there are python environment with matplotlib module. VASPKIT can output a <code>band.png</code> figure automatically. By default, the Fermi energy will be shifted to the 0 eV.</p>
<pre><code>211
  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading Energy-Levels From EIGENVAL File...
  --&gt;&gt; (04) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (05) Reading K-Paths From KPOINTS File...
  --&gt;&gt; (06) Written BAND.dat File!
  --&gt;&gt; (07) Written BAND_REFORMATTED.dat File!
  --&gt;&gt; (08) Written KLINES.dat File!
  --&gt;&gt; (09) Written KLABELS File!
  --&gt;&gt; (10) Written BAND_GAP File!
 If you want use the default setting, type 0, if modity type 1
0
/public1/home/pg2059/.local/lib/python2.7/site-packages/matplotlib/font_manager.py:1328: UserWarning: findfont: Font family [u&#39;arial&#39;] not found. Falling back to DejaVu Sans
  (prop.get_family(), self.defaultFamily[fontext]))
  --&gt;&gt; (11) Graph has been generated!
</code></pre><p>Output <code>BAND.dat</code>，<code>BAND_REFORMATTED.dat</code>，<code>KLINES.dat</code>，<code>KLABELS</code>，<code>BAND_GAP</code> files，</p>
<p><code>BAND.dat</code>，<code>BAND_REFORMATTED.dat</code> files save the band information, which can be open by ORIGIN directly. </p>
<p><code>BAND_REFORMATTED.dat</code>: First column is the length of K-path in unit of Å<sup>-1</sup>, and following columns are the energies of energy of each bands.</p>
<pre><code>#K-Path     Energy-Level
  0.000   -14.278   -13.063    -5.798    -2.813    -2.813    -1.962    -1.693    ...   
  0.060   -14.268   -13.058    -5.787    -2.836    -2.802    -2.055    -1.710    ...   
  0.120   -14.239   -13.044    -5.752    -2.906    -2.769    -2.226    -1.761    ...   
  0.180   -14.190   -13.021    -5.695    -3.015    -2.716    -2.416    -1.840    ...   
  0.240   -14.123   -12.989    -5.619    -3.157    -2.642    -2.614    -1.943    ...   
  0.300   -14.039   -12.948    -5.528    -3.321    -2.817    -2.551    -2.064    ...   
  0.360   -13.938   -12.900    -5.428    -3.496    -3.023    -2.443    -2.195    ...   
  0.420   -13.823   -12.846    -5.329    -3.671    -3.232    -2.333    -2.322    ...   
  0.480   -13.696   -12.786    -5.244    -3.830    -3.441    -2.471    -2.190    ...
  ...
</code></pre><p><code>KLABELS</code> file saves the positions of high symmetry points on band structure figures:</p>
<pre><code>K-Label    K-Coordinate in band-structure plots 
GAMMA              0.000
M                  1.140
K                  1.798
GAMMA              3.114


* Give the label for each high symmetry point in KPOINTS (KPATH.in) file. Otherwise, they will be identified as &#39;Undefined&#39; in KLABELS file
</code></pre><p><code>BAND_GAP</code> file save the information of band gap, VBM, CBM, and its locations at reciprocal lattice,</p>
<pre><code> +-------------------------- Summary ----------------------------+
          Band Character:    Direct
           Band Gap (eV):    1.6743
  Eigenvalue of VBM (eV):   -0.2257
  Eigenvalue of CBM (eV):    1.4485
       HOMO &amp; LUMO Bands:         9        10
         Location of VBM:  0.333333  0.333333  0.000000
         Location of CBM:  0.333333  0.333333  0.000000
 +---------------------------------------------------------------+

 NOTE: The VBM and CBM are subtracted by the Fermi Energy.
</code></pre><p>If users have python environment with matplotlib module, VASPKIT can output a <code>band.png</code> figure automatically：</p>
<p><img style="width:500px" src="../images/band/band4.png" alt="effective mass" align="center"></p>
<p><strong>212，213，214 get projected band structures</strong>：</p>
<p>Be sure INCAR has <code>LORBIT = 10</code> or <code>LORBIT = 11</code> to output projection information.</p>
<p> <strong>212) Projected Band-Structure for Selected Atoms</strong>. select projected atoms:</p>
<p>Input number of selected atoms：<code>1-4</code> <code>7</code> <code>8</code> <code>24</code> or elements：<code>C</code> <code>Fe</code> <code>H</code></p>
<p>For example if you want to draw projected band structure on atom 1 and 2, input <code>1-2</code>：</p>
<pre><code>212
  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...
  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...
  --&gt;&gt; (06) Reading K-Paths From KPOINTS File...
 |---------------------------------------------------------------|
 Input the element-symbol and/or atom-index to SUM [Total-atom: 3]
 (Free Format is OK, e.g., C Fe H 1-4 7 8 24)

 ------------&gt;&gt;
1-2
  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!
  --&gt;&gt; (08) Written PBAND_A1.dat File!
  --&gt;&gt; (09) Written PBAND_A2.dat File!
  --&gt;&gt; (10) Written KLINES.dat File!
  --&gt;&gt; (11) Written KLABELS File!
</code></pre><p>VASPKIT will output two files: <code>PBAND_A1.dat</code> and <code>PBAND_A2.dat</code>.</p>
<p>Each file include the projection information on select atoms, and there weight on each angular momentum, <code>s     py     pz     px    dxy    dyz    dz2    dxz  x2-y2    tot</code>. The first column is the length of K-path in unit of Å<sup>-1</sup>. Second column is the energy of band. Following column are the projection of <em>lm</em>-orbitals on this band. Last column is the total projection of selected atom on this band.</p>
<pre><code>#K-Path    Energy     s     py     pz     px    dxy    dyz    dz2    dxz  x2-y2    tot
#Band-index    1
   0.000   -14.278  0.275  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.281
   0.060   -14.268  0.276  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.281
   0.120   -14.239  0.276  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.281
   0.180   -14.190  0.277  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.282
   0.240   -14.123  0.278  0.000  0.005  0.000  0.000  0.000  0.000  0.000  0.000  0.284
   0.300   -14.039  0.280  0.000  0.005  0.001  0.000  0.000  0.000  0.000  0.000  0.285
   0.360   -13.938  0.281  0.000  0.005  0.001  0.000  0.000  0.000  0.000  0.000  0.288
   0.420   -13.823  0.283  0.000  0.005  0.001  0.000  0.000  0.000  0.000  0.000  0.290
   ...
#Band-index    2
   3.114   -13.063  0.315  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.316
   3.045   -13.056  0.315  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.316
   ...
#Band-index    3
   0.000    -5.798  0.018  0.000  0.125  0.000  0.000  0.000  0.000  0.000  0.000  0.143
   0.060    -5.787  0.018  0.000  0.125  0.000  0.000  0.000  0.000  0.000  0.000  0.143
   ...
</code></pre><p> <strong>213) Projected Band-Structure for Each Element</strong>，projection on each elements:</p>
<pre><code>213
 --&gt;&gt; (1) Reading Input Parameters From INCAR File...
 --&gt;&gt; (2) Reading Fermi-Level From DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
 --&gt;&gt; (3) Reading Structural Parameters from POSCAR File...
 --&gt;&gt; (4) Reading Energy-Levels From EIGENVAL File...
 --&gt;&gt; (5) Reading Band-Weights From PROCAR File...
 --&gt;&gt; (6) Reading K-Paths From KPOINTS File...
 --&gt;&gt; (7) Written PBAND_S.dat File!
 --&gt;&gt; (8) Written PBAND_Mo.dat File!
 --&gt;&gt; (9) Written KLINES.dat File!
 --&gt;&gt; (*) Written KLABELS File!
</code></pre><p>Format of <code>PBAND_S.dat</code> and <code>PBAND_Mo.dat</code> is same as <code>PBAND_A1.dat</code>. These files can be open by origin:</p>
<p><img style="width:700px" src="../images/vaspkit-manual/vaspkit-manual12.png" alt="effective mass" align="center"></p>
<p>Select the first and second line, draw the original band structure first:</p>
<p><img style="width:500px" src="../images/vaspkit-manual/vaspkit-manual13.png" alt="effective mass" align="center"></p>
<p>Then find the position of high symmetry points from <code>KLABELS</code>:</p>
<pre><code>GAMMA              0.000
M                  1.139
K                  1.797
GAMMA              3.113
</code></pre><p>Label those points:</p>
<p><img style="width:500px" src="../images/vaspkit-manual/vaspkit-manual14.png" alt="effective mass" align="center"></p>
<p><img style="width:500px" src="../images/vaspkit-manual/vaspkit-manual15.png" alt="effective mass" align="center"></p>
<p>Then, adjust the energy range. The original band structure without projection information shows as follow.</p>
<p><img style="width:500px" src="../images/vaspkit-manual/vaspkit-manual16.png" alt="effective mass" align="center"></p>
<p>From ORIGIN plot setup tag, add the atoms, elements, or orbitals projections on band.  </p>
<p><img style="width:300px" src="../images/vaspkit-manual/vaspkit-manual17.png" alt="effective mass" align="center"></p>
<p>Select <code>Bubble</code> tag, and add the projection. click OK.</p>
<p><img style="width:500px" src="../images/vaspkit-manual/vaspkit-manual18.png" alt="effective mass" align="center"></p>
<p><img style="width:500px" src="../images/band/band5.png" alt="effective mass" align="center"></p>
<p> <strong>214) The Sum of Projected Band-Structure for Selected Atoms</strong>：</p>
<pre><code>214
  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...
  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...
  --&gt;&gt; (06) Reading K-Paths From KPOINTS File...
 |---------------------------------------------------------------|
 Input the element-symbol and/or atom-index to SUM [Total-atom: 3]
 (Free Format is OK, e.g., C Fe H 1-4 7 8 24)

 ------------&gt;&gt;
1-2
  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!
  --&gt;&gt; (08) Written PBAND_SUM.dat File!
  --&gt;&gt; (09) Written KLINES.dat File!
  --&gt;&gt; (10) Written KLABELS File!
</code></pre><p>The output <code>PBAND_SUM.dat</code> file includes the sum projection of selected atoms or elements. This is useful to investigate the layered band and compare the band of surface and inner.</p>
<h3 id="3-3-Pre-process-Band-Structure-hybrid-functional"><a href="#3-3-Pre-process-Band-Structure-hybrid-functional" class="headerlink" title="3.3 Pre-process Band Structure (hybrid functional)"></a>3.3 Pre-process Band Structure (hybrid functional)</h3><p>Besides the line-mode K-path, VASPKIT can also generate K-path with uniformed spacing between K points in units of 2$\pi$*Å<sup>-1</sup>, which can be used for hybrid functional band structure calculations. Such KPOINTS file contains two parts. First part is same as the self-consistent calculation with symmetry weighted K-points in Irreducilbe Brillouin Zone. And Second part is the 0-weighted K-points alone the k-path. To generate this KPOINTS file:</p>
<p>(1) Same as pure functional calculation. Do geometry optimization. Run <strong>302</strong> (for 2D materials) or <strong>303</strong> (for 3D materials) to get:</p>
<ol>
<li>standardized primitive cell (PRIMCELL.vasp) </li>
<li>line-mode k-path for pure functional band structure calculation (KPATH.in)</li>
<li>High-symmetry points in fractional coordinates. (HIGH_SYMMETRY_POINTS) You can check them with the seekpath database [<a href="https://www.materialscloud.org/work/tools/seekpath" target="_blank" rel="noopener">https://www.materialscloud.org/work/tools/seekpath</a>]. </li>
</ol>
<p>(2) Run <strong>251</strong> to generate KPOINTS file for hybrid functional band-structure calculations. Input the k spacing values to determine density of k-mesh for SCF calculation and k-path for band structure calculation. Then vaspkit will read KPATH.in file and generate the KPOINTS file for hybrid functional band-structure calculation.</p>
<p>(3) <em>Optional</em>. Do a PBE SCF calculations based on the new generated KPOINTS file and get the wavefunctions, which can be read for next step hybrid functional calculation. Sometimes, this step can reduce the SCF time of the next step hybrid functional calculation.</p>
<p>(4) Do hybrid functional band structure calculation.</p>
<h4 id="Example-single-layer-MoS2"><a href="#Example-single-layer-MoS2" class="headerlink" title="Example: single layer MoS2"></a>Example: single layer MoS<sub>2</sub></h4><p>(1) After optimization. Run <strong>302</strong></p>
<pre><code>302
 +-------------------------- Warm Tips --------------------------+
     See An Example in vaspkit/examples/seek_kpath/graphene_2D.        
 This feature is still experimental &amp; check the PRIMCELL.vasp file.       
 +---------------------------------------------------------------+
 --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...
 +-------------------------- Summary ----------------------------+
           The vacuum slab is supposed to be along c axis   
                           Prototype: AB2
           Total Atoms in Input Cell:   3
     Lattice Constants in Input Cell:   3.184   3.184  18.410
        Lattice Angles in Input Cell:  90.000  90.000 120.000
       Total Atoms in Primitive Cell:   3
 Lattice Constants in Primitive Cell:   3.184   3.184  18.410
    Lattice Angles in Primitive Cell:  90.000  90.000 120.000
                  2D Bravais Lattice: Hexagonal
                         Space Group: 187
                         Point Group: 26 [ D3h ]
                       International: P-6m2
                 Symmetry Operations:  12
                    Suggested K-Path: (shown in the next line)
 [ GAMMA-M-K-GAMMA ]
 +---------------------------------------------------------------+
 --&gt;&gt; (2) Written PRIMCELL.vasp file.
 --&gt;&gt; (3) Written KPATH.in File for Band-Structure Calculation.
 --&gt;&gt; (4) Written HIGH_SYMMETRY_POINTS File for Reference.
</code></pre><p>use the new generated PRIMCELL.vasp as POSCAR: <code>cp PRIMCELL.vasp POSCAR</code></p>
<pre><code>Primitive Cell
  1.000000
    3.18401832481292    0.00000000000000    0.00000000000000
   -1.59200916240646    2.75744075540316    0.00000000000000
    0.00000000000000    0.00000000000000   18.40999984740000
  S   Mo
   2   1
DIRECT
    0.0000000000000000    0.0000000000000000    0.4151505217091287     S1
    0.0000000000000000    0.0000000000000000    0.5848494782908713     S2
    0.6666666666666666    0.3333333333333333    0.5000000000000000    Mo1
</code></pre><p>KPATH.in:</p>
<pre><code>K-Path Generated by VASPKIT.
   20
Line-Mode
Reciprocal
   0.0000000000   0.0000000000   0.0000000000     GAMMA          
   0.5000000000   0.0000000000   0.0000000000     M              

   0.5000000000   0.0000000000   0.0000000000     M              
   0.3333333333   0.3333333333   0.0000000000     K              

   0.3333333333   0.3333333333   0.0000000000     K              
   0.0000000000   0.0000000000   0.0000000000     GAMMA
</code></pre><p>(2) Run <strong>251</strong> to generate KPOINTS file for hybrid functional band-structure calculations. </p>
<pre><code>251
 --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...
 ======================= K-Mesh Scheme ==========================
 1) Monkhorst-Pack Scheme                            
 2) Gamma Scheme                                     

 0)   Quit                                             
 9)   Back                                             
 -------------&gt;&gt;
2
 +-------------------------- Warm Tips --------------------------+
 Input Resolution Value to Determine K-Mesh for SCF Calculation: 
 (Typical Value: 0.03-0.04 is Generally Precise Enough)
 ------------&gt;&gt;
0.05
 Input Resolution Value along K-Path for Band Calculation: 
 (Typical Value: 0.02-0.04 for DFT and 0.04-0.06 for hybrid DFT)
 ------------&gt;&gt;
0.05
 +---------------------------------------------------------------+
 --&gt;&gt; (2) Reading K-Paths From KPATH.in File...
 +-------------------------- Summary ----------------------------+
 K-Mesh for SCF Calculation:    7    7    1
 The Number of K-Point along K-Path 1:  22
 The Number of K-Point along K-Path 2:  13
 The Number of K-Point along K-Path 3:  26
 +---------------------------------------------------------------+
 --&gt;&gt; (3) Written KPOINTS File!
</code></pre><p>Select (1) Monkhorst-Pack Scheme or (2) Gamma Scheme to generate k-mesh for SCF calculation. The allowed spacing between k points is set to be 0.04. Then also set the spacing between k points on k-path as 0.04. </p>
<p>Vaspkit will output the k-mesh for SCF Calculation:    7    7    1. And the number of k-points along each line of k-path:  $\Gamma$-&gt; M : 22,    M -&gt; K : 13,    K -&gt; $\Gamma$ : 26. </p>
<pre><code>Parameters to Generate KPOINTS (Don&#39;t Edit This Line):   0.050  0.050    8   61   3  22  13  26
    69
Reciprocal lattice
    0.00000000000000    0.00000000000000    0.00000000000000     1
    0.14285714285714    0.00000000000000    0.00000000000000     6
    0.28571428571429    0.00000000000000    0.00000000000000     6
    0.42857142857143    0.00000000000000    0.00000000000000     6
    0.14285714285714    0.14285714285714    0.00000000000000     6
    0.28571428571429    0.14285714285714    0.00000000000000    12
    0.42857142857143    0.14285714285714    0.00000000000000     6
    0.28571428571429    0.28571428571429    0.00000000000000     6
    0.00000000000000    0.00000000000000    0.00000000000000     0
    0.02380952380952    0.00000000000000    0.00000000000000     0
   ...
   ...
   ...
    0.02666666666400    0.02666666666400    0.00000000000000     0
    0.01333333333200    0.01333333333200    0.00000000000000     0
    0.00000000000000    0.00000000000000    0.00000000000000     0
</code></pre><p>(3) Do PBE calculation. Can be skip.</p>
<p>(4) Do hybird functional band structure calculation. The detail of INCAR parameters are discussed in <a href="http://blog.wangruixing.cn/2019/05/20/hse/" target="_blank" rel="noopener">http://blog.wangruixing.cn/2019/05/20/hse/</a> , INCAR:</p>
<pre><code>##### initial I/O #####
SYSTEM = Hybird Functional
# KPAR = 4       
NCORE = 5 
ISTART = 1 
ICHARG = 1 
LWAVE = .TRUE. 
LCHARG = .TRUE.
LVTOT = .FALSE.
LVHAR = .FALSE.
LELF = .FALSE. 
LORBIT = 11 
NEDOS = 1000

##### SCF #####
ENCUT = 500
ISMEAR = 0 
SIGMA = 0.05
EDIFF = 1E-6
NELMIN = 5 
NELM = 300 
GGA = PE 
LREAL = .FALSE.
# PREC = Accurate
# ISYM = 3

##### Geo opt #####
EDIFFG = -0.01
IBRION = 2
POTIM = 0.2 
NSW = 0 # no Geo_opt
ISIF = 3  # 2 not optimize cell

#### HSE ####
LHFCALC = .TRUE. 
AEXX   =  0.25        
HFSCREEN = 0.2         
ALGO = ALL # or Damped
TIME   =  0.4
</code></pre><h3 id="3-4-Post-process-Band-Structure-hybrid-functional"><a href="#3-4-Post-process-Band-Structure-hybrid-functional" class="headerlink" title="3.4 Post-process Band Structure (hybrid functional)"></a>3.4 Post-process Band Structure (hybrid functional)</h3><p>(5) Extract band structure information by <strong>252</strong>. band data is saved in BAND.dat and BAND-REFORMATTED.dat files. High-symmetry points positions on band structure figures are saved in KLABELS. </p>
<p>(Note: bug in 0.73 version, please use 0.72p1 or 0.74 version)</p>
<pre><code>252
  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading Energy-Levels From EIGENVAL File...
  --&gt;&gt; (04) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (05) Reading K-Paths From KPATH.in File...
  --&gt;&gt; (06) Written BAND.dat File!
  --&gt;&gt; (07) Written BAND_REFORMATTED.dat File!
  --&gt;&gt; (08) Written KLINES.dat File!
  --&gt;&gt; (09) Written KLABELS File!
  --&gt;&gt; (10) Written BAND_GAP File!
 If you want use the default setting, type 0, if modity type 1
0
  --&gt;&gt; (11) Graph has been generated!
</code></pre><p>if the python and matplotlib enviornment is set correctly. vaspkit will draw a band figure <code>band.png</code>. Following parameters should be set in ~/.vaspkit file.</p>
<pre><code>PYTHON_VERSION           3 
PLOT_MATPLOTLIB          .TURE.
</code></pre><p><img style="width:500px" src="../images/vaspkit-hse-band/vaspkit-hse-band1.png" alt="effective mass" align="center"></p>
<p>You can also draw the figure from BAND.dat or BAND_REFORMATTED.dat by origin.</p>
<p>By comparing with the line-mode of KPOINTS (tag <code>3</code>). The biggest advantages of <code>25</code> is average the k spacing along K-path.</p>
<p>Versions prior to 0.72 took the same number of K-points for energy line, resulting in uneven K-distribution on different paths, as shown in lift Figure below. The latest version of VASPKIT supports automatic determination of the number of K points on different energy band paths based on a given k-point interval, thus ensuring uniform spattering throughout the band calculation, as shown in right Figure below.</p>
<p>KPOINTS generated from vaspkit <code>251</code> keeps the spacing between every k points.  So, one can use less 0-weighted k points to get a similar qualified band structure, and thus, take less time when doing band structure calculations.</p>
<p><img style="width:650px" src="../images/vaspkit-hse-band/vaspkit-hse-band5.png" alt="effective mass" align="center"></p>
<p><strong>To get projected hybrid functional band structure, please use 253，254，255</strong>：</p>
<pre><code> 253) Get Projected Band-Structure for Selected Atoms            
 254) Get Projected Band-Structure for Each ELement              
 255) Get the Sum of Projected Band-Structure for Selected Atoms
</code></pre><p>For example:  by using <strong>253</strong>, a free format input is available. You can input any atoms by its index and any elements symbol. Projected band structure will saved for each elements one by one.</p>
<pre><code>  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...
  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...
  --&gt;&gt; (06) Reading K-Paths From KPATH.in File...
 |---------------------------------------------------------------|
 Input the element-symbol and/or atom-index to SUM [Total-atom: 3]
 (Free Format is OK, e.g., C Fe H 1-4 7 8 24)

 ------------&gt;&gt;
1-3
  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!
  --&gt;&gt; (08) Written PBAND_A1.dat File!
  --&gt;&gt; (09) Written PBAND_A2.dat File!
  --&gt;&gt; (10) Written PBAND_A3.dat File!
  --&gt;&gt; (11) Written KLINES.dat File!
  --&gt;&gt; (12) Written KLABELS File!
</code></pre><p>Elements projected band structure obtained by using  <strong>254</strong>, </p>
<pre><code>254
  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...
  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...
  --&gt;&gt; (06) Reading K-Paths From KPATH.in File...
  --&gt;&gt; (07) Written PBAND_S.dat File!
  --&gt;&gt; (08) Written PBAND_Mo.dat File!
  --&gt;&gt; (09) Written KLINES.dat File!
  --&gt;&gt; (10) Written KLABELS File!
</code></pre><p>All your input atoms will be sumed up and are projected to the band structure by using <strong>255</strong>:</p>
<pre><code>255

  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...
  --&gt;&gt; (05) Reading Band-Weights From PROCAR File...
  --&gt;&gt; (06) Reading K-Paths From KPATH.in File...
 |---------------------------------------------------------------|
 Input the element-symbol and/or atom-index to SUM [Total-atom: 3]
 (Free Format is OK, e.g., C Fe H 1-4 7 8 24)

 ------------&gt;&gt;
1-2
  --&gt;&gt; (07) Written SELECTED_ATOM_LIST File!
  --&gt;&gt; (08) Written PBAND_SUM.dat File!
  --&gt;&gt; (09) Written KLINES.dat File!
  --&gt;&gt; (10) Written KLABELS File!
</code></pre><p><strong>supplementary</strong>:  band structure can also be down by pymatgen package:</p>
<p><img style="width:500px" src="../images/vaspkit-hse-band/vaspkit-hse-band4.png" alt="effective mass" align="center"></p>
<h3 id="3-5-Effective-Mass"><a href="#3-5-Effective-Mass" class="headerlink" title="3.5 Effective Mass"></a>3.5 Effective Mass</h3><p>For electrons or electron holes in a solid, the effective mass (<em>m</em>*) is a quantity that is used to simplify band structures by modeling the behavior of a free particle with that mass. At the highest energies of the valence band in many semiconductors (Ge, Si, GaAs, …), and the lowest energies of the conduction band in some semiconductors (GaAs, …), the band structure <em>E</em>(<strong>k</strong>) can be locally approximated as:</p>
<script type="math/tex; mode=display">
E(\mathbf{k})=E_{0}+\frac{\hbar^{2} \mathbf{k}^{2}}{2 m^{*}}</script><p>where <em>E</em>(<strong>k</strong>) is the energy of an electron at wavevector <strong>k</strong> in that band, <em>E</em><sub>0</sub> is a constant giving the edge of energy of that band. So <em>m</em>* can be calculated by following equation: </p>
<script type="math/tex; mode=display">
\frac{1}{m^{*}}=\frac{1}{\hbar^{2}} \frac{\partial^{2} E}{\partial k_{i} \partial k_{j}}</script><p>Usually, we are interested in the <em>m</em>* from one high symmetry point to another high symmetry point. So the direction of $k<em>{i}$ and $k</em>{j}$ are same, such as  K -&gt; M, K -&gt; $\Gamma$. To get the second-order partial derivative, KPOINTS file should include K points very near to that high symmetry point. VASPKIT can generate KPOINTS file for VASP calculation and get the effetive mass automatically. (Note: Now, VASPKIT only support effective mass calculation for Non-Charged &amp; Non-Magnetic Semiconductor!)</p>
<p><img style="width:400px" src="../images/vaspkit-manual/vaspkit-manual2.png" alt="effective mass" align="center"></p>
<h4 id="Example-Single-Layer-MoS2-effective-mass"><a href="#Example-Single-Layer-MoS2-effective-mass" class="headerlink" title="Example: Single Layer MoS2 effective mass"></a>Example: Single Layer MoS<sub>2</sub> effective mass</h4><p>(1) Find out the band edges by band struture calculation. The VBM is at K, and the CBM is also at K. </p>
<p>(2) Select the direction to do second-order derivative. Here, we select K -&gt; M, K -&gt; $\Gamma$ to calculate their electron and hole effetive mass.</p>
<p>(3) Prepare POSCAR and VPKIT.in:</p>
<pre><code>1        # &quot;1&quot; for pre-process (generate KPOINTS), &quot;2&quot; for post-process(calculate m*)
6        # number of points for quadratic function fitting.
0.015    # k-cutoff, unit Å-1.
2        # number of tasks for effective mass calculation
0.333333 0.3333333 0.000 0.000 0.000 0.000 K-&gt;Γ # Specified two K-points and direction
0.333333 0.3333333 0.000 0.500 0.000 0.000 K-&gt;M # Specified two K-points and direction
</code></pre><p>(4) Run VASPKIT <code>912</code>, and input the parameters for K-Mesh Scheme, and VASPKIT will generate a KPOINTS file based on the VPKIT.in file with 0-weight the K-points. </p>
<pre><code> +-------------------------- Warm Tips --------------------------+
      Test ONLY for Non-Charged &amp; Non-Magnetic Semiconductor!            
 +---------------------------------------------------------------+
  --&gt;&gt; (01) Reading VPKIT.in File...
  --&gt;&gt; (02) Reading Structural Parameters from POSCAR File...
 ======================= K-Mesh Scheme ==========================
 1) Monkhorst-Pack Scheme                            
 2) Gamma Scheme                                     

 0)   Quit                                             
 9)   Back                                             
 -------------&gt;&gt;
2
 +-------------------------- Warm Tips --------------------------+

- Accuracy Levels: Gamma-Only: 0;              
   Low: 0.06~0.04;             
   Medium: 0.04~0.03;          
   Fine: 0.02-0.01.            
- 0.03-0.04 is Generally Precise Enough!                
  +---------------------------------------------------------------+
   Input KPT-Resolved Value (e.g., 0.04, in unit of 2*PI/Angstrom): 
   ------------&gt;&gt;
  0.04
       1
    --&gt;&gt; (03) Written KPOINTS File!
    --&gt;&gt; (04) Written INCAR file!
    --&gt;&gt; (05) Written POTCAR File with the Standard Potential!
</code></pre><p>The generate the KPOINTS is:</p>
<pre><code>Parameters to Generate KPOINTS (Don&#39;t Edit This Line):     0.0400    12     2     6
    24
Reciprocal lattice
    0.00000000000000    0.00000000000000    0.00000000000000     1
    0.11111111111111    0.00000000000000    0.00000000000000     6
    0.22222222222222    0.00000000000000    0.00000000000000     6
    0.33333333333333    0.00000000000000    0.00000000000000     6
    0.44444444444444    0.00000000000000    0.00000000000000     6
    0.11111111111111    0.11111111111111    0.00000000000000     6
    0.22222222222222    0.11111111111111    0.00000000000000    12
    0.33333333333333    0.11111111111111    0.00000000000000    12
    0.44444444444444    0.11111111111111    0.00000000000000     6
    0.22222222222222    0.22222222222222    0.00000000000000     6
    0.33333333333333    0.22222222222222    0.00000000000000    12
    0.33333333333333    0.33333333333333    0.00000000000000     2
    0.33333300000000    0.33333330000000    0.00000000000000     0 # K
    0.32795808307727    0.33136593967371    0.00000000000000     0
    0.32258316615454    0.32939857934742    0.00000000000000     0
    0.31720824923180    0.32743121902113    0.00000000000000     0
    0.31183333230907    0.32546385869484    0.00000000000000     0
    0.30645841538634    0.32349649836855    0.00000000000000     0
    0.33333300000000    0.33333330000000    0.00000000000000     0 # K
    0.33673240318272    0.32574567174541    0.00000000000000     0
    0.34013180636544    0.31815804349082    0.00000000000000     0
    0.34353120954815    0.31057041523622    0.00000000000000     0
    0.34693061273087    0.30298278698163    0.00000000000000     0
    0.35033001591359    0.29539515872704    0.00000000000000     0
</code></pre><p>(5) Submit VASP job.</p>
<p>(6) Replace the first line of VPKIT.in by <code>2</code>. Then re-run VASPKIT <code>913</code> to get the effetive mass of electron and hole.</p>
<pre><code>913
 +-------------------------- Warm Tips --------------------------+
      Test ONLY for Non-Charged &amp; Non-Magnetic Semiconductor!            
 +---------------------------------------------------------------+
  --&gt;&gt; (01) Reading VPKIT.in File...
  --&gt;&gt; (02) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (03) Reading Input Parameters From INCAR File...
  --&gt;&gt; (04) Reading Energy-Levels From EIGENVAL File...
 +-------------------------- Summary ----------------------------+
 Effective-Mass is obtained by fitting a third order polynomial,
 which yields masses are less sensitive to the employed k-points.
 Band Index:                LUMO =   10               HOMO =   9
 Effective-Mass (in m0)     Electron (Prec.)          Hole (Prec.)
 K-Path Index 1: K-&gt;Γ        0.480 (0.2E-07)      -0.577 (0.2E-07)
 K-Path Index 2: K-&gt;M        0.527 (0.8E-07)      -0.705 (0.2E-06)
 +---------------------------------------------------------------+
</code></pre><p>Kormányos et al. calculated the effective masses of electron and hole carriers for the MoS<sub>2</sub> monolayers to be 0.44 and 0.54, respectively [see 2D Mater. 2 (2015) 049501]. Note: If the valence band and the conduction band bottom are degenerate, such as GaAs and GaN, it will be difficult to guarantee accuracy at this time.</p>
<h3 id="3-6-Band-unfolding"><a href="#3-6-Band-unfolding" class="headerlink" title="3.6 Band-unfolding"></a>3.6 Band-unfolding</h3><p>Alloy or defect materials usually needs to use the supercell calculation. In order to compare with the energy band of the unit cell, the energy band of the supercell needs to be folded into an effective band structure (EBS).</p>
<h4 id="Example-Graphene-Band-unfolding"><a href="#Example-Graphene-Band-unfolding" class="headerlink" title="Example: Graphene Band-unfolding"></a>Example: Graphene Band-unfolding</h4><p>(1) Prepare POSCAR:</p>
<pre><code>Graphene                             
   1.00000000000000     
     1.2344083195740001   -2.1380573715510001    0.0000000000000000
     1.2344083195740001    2.1380573715510001    0.0000000000000000
     0.0000000000000000    0.0000000000000000   12.0000000000000000
   C 
     2
Direct
  0.0000000000000000  0.0000000000000000  0.5000000000000000
  0.3333329999917112  0.6666670000099160  0.5000000000000000
</code></pre><p>(2) Prepare the KPATH.in file. For the 2D system, the recommended band path can be generated by the vaspkit <code>301</code>, <code>302</code>, or <code>303</code> command.</p>
<pre><code>Generated by VASPKIT.
   30
Line-Mode
Reciprocal
   0.0000000000   0.0000000000   0.0000000000     GAMMA          
   0.5000000000   0.0000000000   0.0000000000     M              

   0.5000000000   0.0000000000   0.0000000000     M              
   0.3333333333   0.3333333333   0.0000000000     K              

   0.3333333333   0.3333333333   0.0000000000     K              
   0.0000000000   0.0000000000   0.0000000000     GAMMA
</code></pre><p>(3) Use VASPKIT <code>401</code> command to create a 2x2 supercell. Then <code>mv SC221.vasp POSCAR</code>, create a new <code>VPKIT.in</code> file, enter the supercell size <code>2 2 1</code> in the first line:</p>
<pre><code>2 2 1
</code></pre><p>(4) Run the vaspkit <code>281</code> command to generate a KPOINTS file for supercell computing.</p>
<pre><code>281
  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
 ======================= K-Mesh Scheme ==========================
 1) Monkhorst-Pack Scheme                            
 2) Gamma Scheme                                     

 0)   Quit                                             
 9)   Back                                             
 -------------&gt;&gt;
2
 +-------------------------- Warm Tips --------------------------+
 Input Resolution Value to Determine K-Mesh for SCF Calculation: 
 (Typical Value: 0.02-0.03 is Generally Precise Enough)
 ------------&gt;&gt;
0.03
 Input Resolution Value along K-Path for Band Calculation: 
 (Typical Value: 0.02-0.04 for DFT and 0.04-0.06 for hybrid DFT)
 ------------&gt;&gt;
0.03
 +---------------------------------------------------------------+
           1
  --&gt;&gt; (02) Reading K-Paths From KPATH.in File...
  --&gt;&gt; (03) Reading Supercell Size from VPKIT.in File...
  --&gt;&gt; (04) Written KPOINTS File!
  --&gt;&gt; (05) The POTCAR file already existed and skipped.
</code></pre><p>(5) Run VASP.</p>
<p>(6) Run the vaspkit <code>282</code> command to extract the <code>EBS.dat</code> file containing the Effective Band Structure data.</p>
<p>(7) Draw the picture of unfold-band.</p>
<p><img style="width:400px" src="../images/vaspkit-manual/vaspkit-manual3.jpg" alt="unfold band" align="center"></p>
<h3 id="3-7-3D-Band-Structure"><a href="#3-7-3D-Band-Structure" class="headerlink" title="3.7 3D Band Structure"></a>3.7 3D Band Structure</h3><p>In solid-state physics, the most usual electronic <em>band structure</em> (or simply <em>band structure</em>) is 2D band structure, which shows the energy change along the K-path line. </p>
<p>VASPKIT can also do 3D band structure, which select K-path on a surface of irreducilbe brillouin zone. And calculate the K-dependent band energies on those K-points. This method is often used to 2D materials, such as graphene.</p>
<h4 id="Example-Graphene-3D-Band-Structure"><a href="#Example-Graphene-3D-Band-Structure" class="headerlink" title="Example:  Graphene 3D Band Structure"></a>Example:  Graphene 3D Band Structure</h4><p>(1) Prepare graphene POSCAR and INCAR files for SCF calculation as descript in <a href="### 3.1 Pre-process Band Structure (pure functional">Section 3.1</a>)</p>
<p>(2) Run VASPKIT and select <code>231</code> to generate a KPOINTS file for 3D band calculation. The execution interface is as follows. The generated KPOINTS contains 1-weighted KPOINTS and 0-weight KPOINTS (Note that in order to obtain a smooth 3D energy band, the resolution value used to generate the KPOINTS file should be set at around 0.01)</p>
<pre><code>231

 +-------------------------- Warm Tips --------------------------+
   * Accuracy Levels: (1) Low:    0.04~0.03;         
                      (2) Medium: 0.03~0.02;         
                      (3) Fine:   0.02~0.01.         
   * 0.015 is Generally Precise Enough!              
 +---------------------------------------------------------------+
 Input KP-Resolved Value (unit: 2*PI/Ang): 
 ------------&gt;&gt;
0.015

  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (02) Written KPOINTS File!
</code></pre><p>(3) Submit VASP job.</p>
<p>(4) After the VASP calculation is complete, run VASPKIT again and enter the <code>232</code> or <code>233</code> command. The <code>233</code> command can output the VBM band and CBM band to BAND.HOMO.grd and BAND.LUMO.grd. <code>232</code> can get the calculation data of any other band. Here we choose <code>233</code>:</p>
<pre><code>------------&gt;&gt;
233
 +-------------------------- Warm Tips --------------------------+
           ONLY Reliable for Band-Structure Calculations!
 +---------------------------------------------------------------+
 --&gt;&gt; (1) Reading Input Parameters From INCAR File...
 --&gt;&gt; (2) Reading Structural Parameters from POSCAR File...
 --&gt;&gt; (3) Reading Fermi-Level From DOSCAR File...
ooooooooo The Fermi Energy will be set to zero eV oooooooooooooooo
 --&gt;&gt; (4) Reading Energy-Levels From EIGENVAL File...
 --&gt;&gt; (5) Reading Kmesh From KPOINTS File...
 --&gt;&gt; (6) Written BAND.HOMO.grd File.
 --&gt;&gt; (7) Written BAND.LUMO.grd File.
 --&gt;&gt; (8) Written KX.grd and KY.grd Files.
</code></pre><p>(5) run <code>python VASPKITdir/examples/3D_band/how_to_visual.py</code> to get the 3D band structure.</p>
<p><img style="width:700px" src="../images/vaspkit-manual/vaspkit-manual4.png" alt="unfold band" align="center"></p>
<h3 id="3-8-Fermi-Surface"><a href="#3-8-Fermi-Surface" class="headerlink" title="3.8 Fermi Surface"></a>3.8 Fermi Surface</h3><p>In condensed matter physics, the <strong>Fermi surface</strong> is the <strong>surface</strong> in reciprocal space which separates occupied from unoccupied electron states at zero temperature. The shape of the <strong>Fermi surface</strong> is derived from the periodicity and symmetry of the crystalline lattice and from the occupation of electronic energy bands.</p>
<h4 id="Example-Cu-Fermi-Surface"><a href="#Example-Cu-Fermi-Surface" class="headerlink" title="Example: Cu Fermi Surface"></a>Example: Cu Fermi Surface</h4><p>(1) prepare the optimized POSCAR of FCC Cu. Note that it must be the primitive cell.</p>
<p>(2) Run VASPKIT and enter the <code>261</code> command to generate the KPOINTS and POTCAR files for calculating the Fermi surface. </p>
<pre><code>------------&gt;&gt;
261
 +-------------------------- Warm Tips --------------------------+
   \* Accuracy Levels: (1) Medium: 0.02~0.01;
                      (2) Fine:      &lt; 0.01;
   \* 0.01 is Generally Precise Enough!
 +---------------------------------------------------------------+
 Input KPT-Resolved Value (unit: 2*PI/Angstrom):
 ------------&gt;&gt;
0.008
 --&gt;&gt; (1) Reading Structural Parameters from POSCAR File...
 --&gt;&gt; (2) Written KPOINTS File!
</code></pre><p>(3) Submit VASP job.</p>
<p>(4) After the VASP calculation is completed, run VASPKIT again, input <code>262</code> command, and generate the FERMISURFACE.bxsf file containing the Fermi surface data. </p>
<pre><code>------------&gt;&gt;
262
 --&gt;&gt; (1) Reading Input Parameters From INCAR File...
 --&gt;&gt; (2) Reading Structural Parameters from POSCAR File...
 --&gt;&gt; (3) Reading Fermi-Level From DOSCAR File...
ooooooooo The Fermi Energy will be set to zero eV oooooooooooooooo
 --&gt;&gt; (4) Reading Energy-Levels From EIGENVAL File...
 --&gt;&gt; (5) Written FERMISURFACE.bxsf File!
</code></pre><p>(5) Run the XcrySDen software and follow the steps below. The fifth band through the Fermi surface, so we choose Band Number 5, then click Selected, and then get the Fermi surface of Cu.</p>
<p><img style="width:500px" src="../images/vaspkit-manual/vaspkit-manual5.jpg" alt="unfold band" align="center"></p>
<p><img style="width:500px" src="../images/vaspkit-manual/vaspkit-manual6.jpg" alt="unfold band" align="center"></p>
<p><div style="page-break-after: always;"></div></p>
<h2 id="4-Density-of-States"><a href="#4-Density-of-States" class="headerlink" title="4 Density of States"></a>4 Density of States</h2><p>VASPKIT is very powerful at post-process DOS results. Set <code>LORBIT</code> = 10 or 11, VASP will output DOS and <em>l</em>-decomposed or <em>lm</em>-decomposed projected DOS for every atoms to DOSCAR and vasprun.xml. VASPKIT can extract those information as users’ demanding.</p>
<p>Merits:</p>
<p>(1) Do not need to download DOSCAR or vasprun.xml. Direct extract useful DOS on server.</p>
<p>(2) Selection way for PDOS is convenient. Elements, atoms, and orbitals can be selected and sumed as you want.</p>
<p>(3) Automatic shift fermi energy to 0 eV. It can read the E-fermi energy form OUTCAR and shift the DOS data by E-fermi. If one do not want to do shift, just close it in <code>~/.vaspkit</code> </p>
<pre><code>SET_FERMI_ENERGY_ZERO    .FALSE.             # .TRUE. or .FALSE.;
</code></pre><p>(4) Output file can be read by <code>Origin</code> directly with no modify.</p>
<h3 id="4-1-Extract-and-output-DOS-and-pDOS"><a href="#4-1-Extract-and-output-DOS-and-pDOS" class="headerlink" title="4.1 Extract and output DOS and pDOS"></a>4.1 Extract and output DOS and pDOS</h3><p>Option <code>11</code> is used to DOS post-process.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Options</th>
<th>Functions</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>111</td>
<td>Get the <strong>total</strong> DOS</td>
<td><strong>Input</strong>: None.<br><strong>Output</strong>:<br> TDOS.dat contains the total DOS; ITDOS.dat contains the integral total DOS.<br>Spin up and down are writen in one file.<br><br> Example:  Total dos of $\Theta$-Al<sub>2</sub>O<sub>3</sub> unit cell<img style="width:800px" src="../images/vaspkit-manual/vaspkit-manual8.png" alt="unfold band" align="center"></td>
</tr>
<tr>
<td>112</td>
<td>Output projected DOS for selected <strong>atoms</strong> to separate files.</td>
<td><strong>Input</strong>: <br>Input the element-symbol and/or atom-index to SUM [Total-atom: 80] (Free Format is OK, e.g., C Fe H 1-4 7 8 24).<br><strong>Output</strong>: <br>SELECTED_ATOM_LIST;<br>PDOS_A_UP(_DW), pdos file for each selected atoms;<br>IPDOS_A_UP(_DW), integral pdos file for each selected atoms;<br>Spin up and down are writen in different files.</td>
</tr>
<tr>
<td>113</td>
<td>Output projected DOS for every <strong>elements</strong> to separate files.</td>
<td><strong>Input</strong>: None.<br><strong>Output</strong>: <br>PDOS_Elements_UP (_DW).dat, pdos file for each elements (sum of all atoms of each element.)<br>IPDOS_Elements_UP (_DW).dat<br>Spin up and down are writen in different files.</td>
</tr>
<tr>
<td>114</td>
<td>Output <strong>sum</strong> of projected DOS for selected atoms to one file.</td>
<td><strong>Input</strong>: Input the element-symbol and/or atom-index to SUM [Total-atom: 80] (Free Format is OK, e.g., C Fe H 1-4 7 8 24).<br><strong>Output</strong>:<br>SELECTED_ATOM_LIST;<br>PDOS_SUM_UP(_DW), pdos file for sum of selected atoms;<br>IPDOS_A_UP(_DW), integral pdos;<br>Spin up and down are writen in different files.</td>
</tr>
<tr>
<td>115</td>
<td>Output <strong>sum</strong> of projected DOS for selected atoms and orbitals to one file.</td>
<td><strong>Input</strong>: <br>Input the element-symbol and/or atom-index to SUM [Total-atom: 80] (Free Format is OK, e.g., C Fe H 1-4 7 8 24).<br>Input the Orbitals to Sum. Which orbital? s py pz px dxy dyz dz2 dxz dx2 f-3 ~ f3, “all” for summing ALL.<br><strong>Output</strong>: <br>PDOS_USER.dat <br>Spin up and down are writen in one files.</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Example-pdos-of-CO-adsorption-on-Ni-100-surface"><a href="#Example-pdos-of-CO-adsorption-on-Ni-100-surface" class="headerlink" title="Example: pdos of CO adsorption on Ni(100) surface."></a>Example: pdos of CO adsorption on Ni(100) surface.</h4><p>Enter <code>/vaspkit.0.73/examples/LDOS_PDOS/Partial_DOS_of_CO_on_Ni_111_surface</code>,</p>
<p>Run <code>vaspkit</code> <code>(115) The Sum of Projected DOS for Selected Atoms and orbitals</code>. If we want s and p orbtial of O, s and p orbtial of C, d orbtial of Ni.</p>
<pre><code> Input the Symbol and/or Number of Atoms to Sum [Total-atom: 7]
 (Free Format is OK, e.g., C Fe H 1-4 7 8 24),Press &quot;Enter&quot; if you want to end e
 ntry!

 ------------&gt;&gt;
O
 Input the Orbitals to Sum
 Which orbital? s py pz px dxy dyz dz2 dxz dx2 f-3 ~ f3, &quot;all&quot; for summing ALL.
s
...
...
</code></pre><p>Input <code>O - s - O - p - C - s - C - p - Ni - d - &#39;Enter&#39; - 0</code>, Then <code>PDOS_USER.dat</code> file will generate in this folder, which contains:</p>
<pre><code>    #Energy        O_s        O_p        C_s        C_p     Ni_d
  -27.10266    0.00000    0.00000    0.00000    0.00000    0.00000
  -26.92966    0.00000    0.00000    0.00000    0.00000    0.00000
  -26.75566    0.00000    0.00000    0.00000    0.00000    0.00000
  -26.58266    0.00000    0.00000    0.00000    0.00000    0.00000
  ...
  ...
</code></pre><p><img style="width:800px" src="../images/vaspkit-manual/vaspkit-manual7.png" alt="unfold band" align="center"></p>
<p>The <code>Input the Symbol and/or Number of Atoms</code> command accept free format input. You can enter the <code>1-3 4 Ni</code> to accumulate PDOS by selecting elements 1, 2, 3, 4 and Ni. The <code>Input the Orbitals to Sum</code> command only supports standard input. If you use <code>LORBIT=10</code>, only s p d f can be selected. If you use <code>LORBIT=11</code>, s py pz px dxy dyz dz2 dxz dx2 f-3 f-2 f-1 f0 f1 f2 are also supported.</p>
<h3 id="4-2-D-band-Center"><a href="#4-2-D-band-Center" class="headerlink" title="4.2 D-band Center"></a>4.2 D-band Center</h3><p>The DOS projected onto the <em>d</em>-states that interact with the adsorbate state can be characterized by the center of d-projected DOS.</p>
<script type="math/tex; mode=display">
\varepsilon_{\mathrm{d}}=\frac{\int_{-\infty}^{\infty} n_{\mathrm{d}}(\varepsilon) \varepsilon d \varepsilon}{\int_{-\infty}^{\infty} n_{\mathrm{d}}(\varepsilon) d \varepsilon}</script><p>VASPKIT option <code>503</code> can calculate d-band center for every atoms directly from VASP dos outputs. And users can set the the energy range for calculation.</p>
<p>Example: Pt metal surface model, the energy window is set up to the fermi energy.</p>
<pre><code>503
 +-------------------------- Warm Tips --------------------------+
         See An Example in vaspkit/examples/d_band_center.        
   d-Band Center is Sensitive to the Number of Unoccupied Band.
 Anyway, the Trends are More Important than the Absolute Energies.       
 +---------------------------------------------------------------+
  --&gt;&gt; (01) Reading Input Parameters From INCAR File...
  --&gt;&gt; (02) Reading Fermi-Energy from DOSCAR File...
 ooooooooo The Fermi Energy will be set to zero eV ooooooooooooooo
  --&gt;&gt; (03) Reading DOS Data From DOSCAR File...
  --&gt;&gt; (04) Reading Structural Parameters from POSCAR File...
 +------------------------ Your Option --------------------------+
 The default energy window of integration is [-11.82 24.30]
 Do you want to change the change (Y/N)?
y
 Please enter the new energy window with blank (e.g., -10 10)
-11.8 0
 +---------------------------------------------------------------+
  --&gt;&gt; (05) Written D_BAND_CENTER File!
</code></pre><p>the d-band center for every atoms and the total d-band center is writen in <code>D_BAND_CENTER</code> file as following:</p>
<pre><code># Atom ID       d-Band-Center (eV)
    Pt1:            -3.1184
  Total:            -3.1184


Notice:
The energy window of integration is [-11.80 0.00].
The calculated d-band-center presented here are referenced to Fermi level, i.e., E_F=0 eV.
</code></pre><p><div style="page-break-after: always;"></div></p>
<h2 id="5-Thermo-Energy-Correction"><a href="#5-Thermo-Energy-Correction" class="headerlink" title="5 Thermo Energy Correction"></a>5 Thermo Energy Correction</h2><p>Calculation of the free energy change in catalysis is one of the most important part. But VASP do not have a module that can directly calculates the molecular free energy. Thus, the free energy correction in the some pulications is inconsistent, inaccurate. (Note: Computational chemistry programs such as Gaussian have a complete free energy calculation module.) </p>
<h3 id="5-1-Gas-Molecule-Free-Energy-Correction"><a href="#5-1-Gas-Molecule-Free-Energy-Correction" class="headerlink" title="5.1 Gas Molecule Free Energy Correction"></a>5.1 Gas Molecule Free Energy Correction</h3><p>The equations used for computing thermochemical data for Gas in VASPKIT is equivalent to those in <a href="https://gaussian.com/thermo/" target="_blank" rel="noopener">Gaussian</a>. (<a href="https://gaussian.com/thermo/" target="_blank" rel="noopener">https://gaussian.com/thermo/</a>)<br>The partition function from any component can be used to determine the entropy contribution <em>S</em> from that component: </p>
<script type="math/tex; mode=display">
S=N k_{B}+N k_{B} \ln \left(\frac{q(V, T)}{N}\right)+N k_{B} T\left(\frac{\partial \ln q}{\partial T}\right)_{V}</script><p>When molar values are given $n=N / N<em>{A}$, and based on Ideal gas approximation, $N</em>{A} k_{B}=R$, We write the <em>S</em> as:</p>
<script type="math/tex; mode=display">
\begin{aligned} S &=R+R \ln (q(V, T))+R T\left(\frac{\partial \ln q}{\partial T}\right)_{V} \\ &=R \ln (q(V, T) e)+R T\left(\frac{\partial \ln q}{\partial T}\right)_{V} \\ &=R\left(\ln \left(q_{\mathrm{t}} q_{\mathrm{e}} q_{\mathrm{r}} q_{\mathrm{v}} e\right)+T\left(\frac{\partial \ln q}{\partial T}\right)_{V}\right) \end{aligned}</script><p>The internal thermal energy <em>U</em> can also be obtained from the partition function:</p>
<script type="math/tex; mode=display">
U=N k_{B} T^{2}\left(\frac{\partial \ln q}{\partial T}\right)_{V} 
=R T^{2}\left(\frac{\partial \ln q}{\partial T}\right)_{V}</script><p>The partition functions of translational, electronic, rotational, vibrational contribution are calculate as the equations list in (<a href="https://gaussian.com/thermo/" target="_blank" rel="noopener">https://gaussian.com/thermo/</a>). Then the entropy correction and internal thermal energy correction are calculated at specific temperature and presure. </p>
<script type="math/tex; mode=display">
U=E_{t}+E_{e}+E_{v}+E_{r}</script><script type="math/tex; mode=display">
S=S_{t}+S_{e}+S_{v}+S_{r}</script><p>For linear molecules, degree of vibrational freedom is 3N - 5, VASPKIT will neglect smallest 5 frequencies. For non-linear molecules, degree of vibrational freedom is 3N - 6, VASPKIT will neglect smallest 6 frequencies.</p>
<p>VASPKIT also include zero-point energy (ZPE) in thermo energy correction from the frequency calculation OUTCAR.</p>
<script type="math/tex; mode=display">
\varepsilon_{\mathrm{ZPE}}=\frac{h \nu}{2}</script><p>The Gibbs free energy  (<em>G</em>) and enthalpy (<em>H</em>)  include ∆PV = ∆NRT based on ideal gas approximation.</p>
<script type="math/tex; mode=display">
H=U+k_{B} T</script><p>The Gibbs free energy <em>G</em> can be derived with the help of the total entropy <em>S</em>,</p>
<script type="math/tex; mode=display">
G=H-T S</script><p> At last, VASPKIT will output:</p>
<ol>
<li>Zero-point energy $\varepsilon_{\mathrm{ZPE}} $;</li>
<li>Thermal correction to <em>U</em>(T), = $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta U</em>{0 \rightarrow T}$</li>
<li>Thermal correction to H(T), = $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta U</em>{0 \rightarrow T}$ + PV =  $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta H</em>{0 \rightarrow T}$ </li>
<li>Thermal correction to G(T), = $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta U</em>{0 \rightarrow T}$ + PV + TS =  $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta G</em>{0 \rightarrow T}$ </li>
</ol>
<p>where $\Delta U<em>{0 \rightarrow T}$, $\Delta H</em>{0 \rightarrow T}$ , and $\Delta G_{0 \rightarrow T}$ are interal energy, enthalpy, and Gibbs free energy difference between 0 K and <em>T</em> K.</p>
<h4 id="Example-Thermo-energy-correction-for-O2"><a href="#Example-Thermo-energy-correction-for-O2" class="headerlink" title="Example: Thermo energy correction for O2:"></a>Example: Thermo energy correction for O<sub>2</sub>:</h4><p>(1) Do a frequency calculation. After calculation, check the frequencies:</p>
<pre><code>   1 f  =   46.979964 THz   295.183821 2PiTHz 1567.082879 cm-1   194.293584 meV
   2 f  =    1.952595 THz    12.268518 2PiTHz   65.131565 cm-1     8.075288 meV
   3 f  =    1.120777 THz     7.042052 2PiTHz   37.385108 cm-1     4.635164 meV
   4 f/i=    0.006984 THz     0.043884 2PiTHz    0.232971 cm-1     0.028885 meV
   5 f/i=    1.046106 THz     6.572876 2PiTHz   34.894327 cm-1     4.326347 meV
   6 f/i=    1.294104 THz     8.131095 2PiTHz   43.166663 cm-1     5.351986 meV
</code></pre><p>Because of O<sub>2</sub> is linear molecule, VASPKIT will neglect smallest five frequencies.</p>
<p>(2) In the same folder, run VASPKIT <code>502</code>. Input temperature(K), pressure(Atm), and spin multiplicity in turn.</p>
<pre><code>502
 +-------------------------- Warm Tips --------------------------+
   See An Example in vaspkit/examples/thermo_correction/ethanol.        
  This Feature Was Contributed by Nan XU, Jincheng Liu and Sobereva.
 Included Vibrations, Translation, Rotation &amp; Electron contributions.       
 GAS molecules should not be with any fix.       
  --&gt;&gt; (01) Reading Structural Parameters from CONTCAR File...
  --&gt;&gt; (02) Analyzing Molecular Symmetry Information...
 Molecular Symmetry is: D(inf)h
 Linear molecule found!
 +---------------------------------------------------------------+
 Please input Temperature(K)!
298.15
 Please input Pressure(Atm)!
1
 Please input Spin multiplicity!--(Number of Unpaired electron + 1)
3
 ------------&gt;&gt;
  --&gt;&gt; (03) Extracting frequencies from OUTCAR...
  --&gt;&gt; (04) Reading OUTCAR File...
  --&gt;&gt; (05) Calculating Thermal Corrections...
 U(T) = ZPE + Delta_U(0-&gt;T)
 H(T) = U(T) + PV = ZPE + Delta_U(0-&gt;T) + PV
 G(T) = H(T) - TS = ZPE + Delta_U(0-&gt;T) + PV - TS

 Zero-point energy E_ZPE   :       2.240 kcal/mol    0.097144 eV
 Thermal correction to U(T):       3.724 kcal/mol    0.161475 eV
 Thermal correction to H(T):       4.316 kcal/mol    0.187167 eV
 Thermal correction to G(T):     -10.302 kcal/mol   -0.446723 eV
 Entropy S                 :     205.141 J/(mol*K)   0.002126 eV

 Thanks to Sobereva!(sobereva@sina.com)
</code></pre><p>So, ZPE is 0.097144 eV. Thermal correction to <em>U</em>(T), <em>H</em>(T), and <em>G</em>(T) are 0.161475, 0.187167,  and -0.446723 eV, respectively. The entropy correction is</p>
<script type="math/tex; mode=display">
S = -[G(T)-H(T)] / T=0.0021261  \mathrm{eV} / \mathrm{K}=205.13  \mathrm{J} \cdot \mathrm{K}^{-1} \cdot \mathrm{mol}^{-1}</script><p>To get the free energy of O<sub>2</sub>, add the <em>G</em>(T) to electronic energy:</p>
<p>G(O<sub>2</sub>) = -9.854 + -0.447 = -10.301 eV</p>
<h3 id="5-2-Adsorbed-Molecular-Free-Energy-Correction"><a href="#5-2-Adsorbed-Molecular-Free-Energy-Correction" class="headerlink" title="5.2 Adsorbed Molecular Free Energy Correction"></a>5.2 Adsorbed Molecular Free Energy Correction</h3><p>Unlike the thermodynamic correction of gas molecules, adsorbed molecules will form chemical bonds with the substrat, which limits the translational and rotational freedom of the adsorbed molecules. So the contribution of translation and rotation to entropy and enthalpy is significantly reduced (so called hindered translator / hindered rotor model). This does not mean no translational or rotational contribution. </p>
<p>One common method is to attribute the translational or rotational part of the contribution to vibration, that is, the 3N vibrations of the surface-adsorbing molecules (except the virtual frequency) are all used to calculate the correction of the thermo energy. </p>
<p>The small the vibration frequencies have large contribution to entropy. It is very likely that a small vibration frequency will lead to abnormal entropy and free energy correction. So, it suggests that when the free energy of the surface adsorption molecule is corrected, the contribution of the frequency below 50 cm<sup>-1</sup> is calculated as 50 cm<sup>-1</sup>, and VASPKIT also does this. And VASPKIT neglects the electron motion because of its small contribution. </p>
<p>And the PV term is also delete. At last VASPKIT will output:</p>
<ol>
<li>Zero-point energy $\varepsilon_{\mathrm{ZPE}} $;</li>
<li>Thermal correction to <em>U</em>(T) = <em>H</em>(T) = $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta U</em>{0 \rightarrow T}$</li>
<li>Thermal correction to G(T) = $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta U</em>{0 \rightarrow T}$ + TS =  $\varepsilon<em>{\mathrm{ZPE}}$ + $\Delta G</em>{0 \rightarrow T}$ </li>
</ol>
<h4 id="Example-Thermo-energy-correction-for-adsorbed-O-Au-111"><a href="#Example-Thermo-energy-correction-for-adsorbed-O-Au-111" class="headerlink" title="Example: Thermo energy correction for adsorbed O/Au(111)"></a>Example: Thermo energy correction for adsorbed O/Au(111)</h4><p>(1) Fix all slab metal atoms, do frequency calculation for the adsorbed molecule. Check the frequencies:</p>
<pre><code>$ grep cm OUTCAR 
   1 f  =   10.904836 THz    68.517103 2PiTHz  363.746154 cm-1    45.098792 meV
   2 f  =   10.827330 THz    68.030119 2PiTHz  361.160834 cm-1    44.778253 meV
   3 f  =   10.751668 THz    67.554721 2PiTHz  358.637024 cm-1    44.465340 meV
</code></pre><p>(2) In the same folder, run VASPKIT <code>501</code>. Input temperature(K).</p>
<pre><code>501
 +-------------------------- Warm Tips --------------------------+
 This Feature Was Contributed by Nan XU, Qiang LI and Jincheng LIU.
     See An Example in vaspkit/examples/thermo_correction/ORR.        
 Only vibrations! No Translation &amp; Rotation &amp; Electron contributions.       
 +---------------------------------------------------------------+

 Please Enter The Temperature (K): 

 ------------&gt;&gt;
298.15
  --&gt;&gt; (01) Reading OUTCAR File...
 +-------------------------- Summary ----------------------------+
 Neglect PV contribution to translation for adsorbed molecules.
 To avoid abnormal entropy contribution,
 frequencies less than 50 cm-1 are set to 50 cm-1.
 U(T) = H(T) = ZPE + Delat_U(0-&gt;T)
 G(T) = H(T) - TS = ZPE + Delat_U(0-&gt;T) - TS

 Temperature (K): 298.1
 Zero-point energy E_ZPE   :       1.549 kcal/mol    0.067171 eV
 Thermal correction to U(T):       2.206 kcal/mol    0.095670 eV
 Thermal correction to H(T):       2.206 kcal/mol    0.095670 eV
 Thermal correction to G(T):       1.207 kcal/mol    0.052342 eV
 Entropy S                 :      14.021 J/(mol*K)   0.000145 eV
 +---------------------------------------------------------------+
 +---------------------------------------------------------------+
 |                         * DISCLAIMER *                        |
 |         Any Suggestions for Improvements are Welcome          |
 |      Check the Consistency of Your Results if Necessary       |
 |                     (^.^) GOOD LUCK (^.^)                     |
 |---------------------------------------------------------------|
 | Citation of VASPKIT is not Mandatory BUT would be Appreciated.|
 | Please Cite: V. Wang, N. Xu, VASPKIT: A Pre- and Post-Proces- |
 | sing Program for the VASP Code. http://vaspkit.sourceforge.net|
 +---------------------------------------------------------------+
</code></pre><p>So, ZPE is 0.067171 eV. Thermal correction to <em>U</em>(T), <em>H</em>(T), and <em>G</em>(T) are 0.095670, 0.187167,  and -0.446723 eV, respectively.</p>
<p><div style="page-break-after: always;"></div></p>
<h2 id="6-Elastic-Properties"><a href="#6-Elastic-Properties" class="headerlink" title="6 Elastic Properties"></a>6 Elastic Properties</h2><p><div style="page-break-after: always;"></div></p>
<h2 id="7-Optic-Properties"><a href="#7-Optic-Properties" class="headerlink" title="7 Optic Properties"></a>7 Optic Properties</h2><p><div style="page-break-after: always;"></div></p>
<h2 id="8-Structure-Edition-and-Symmetry-Tools"><a href="#8-Structure-Edition-and-Symmetry-Tools" class="headerlink" title="8 Structure Edition and Symmetry Tools"></a>8 Structure Edition and Symmetry Tools</h2><p>VASPKIT is powerful at structure edition. Read and modify the structural files.</p>
<h3 id="8-1-Redefine-Lattice"><a href="#8-1-Redefine-Lattice" class="headerlink" title="8.1 Redefine Lattice"></a>8.1 Redefine Lattice</h3><p>VASPKIT option <code>400</code> can build supercell and rotate the lattice vector. It requires three coefficients for each new vector by following equation:</p>
<script type="math/tex; mode=display">
\left(\begin{array}{l}{A} \\ {B} \\ {C}\end{array}\right)=\left(\begin{array}{lll}{c_1} & {c_2} & {c_3} \\ {c_4} & {c_5} & {c_6} \\ {c_7} & {c_8} & {c_9}\end{array}\right)\left(\begin{array}{l}{a} \\ {b} \\ {c}\end{array}\right)</script><p><strong><em>A</em></strong>, <strong><em>B</em></strong>, and <strong><em>C</em></strong> are new lattice vectors, <strong><em>a</em></strong>, <strong><em>b</em></strong>, and <strong><em>c</em></strong> are old lattice vectors. </p>
<p><strong><em>A</em></strong> = c1<strong><em>a</em></strong> + c2<strong><em>b</em></strong> + c3<strong><em>c</em></strong></p>
<p><strong><em>B</em></strong> = c4<strong><em>a</em></strong> + c5<strong><em>b</em></strong> + c6<strong><em>c</em></strong></p>
<p><strong><em>C</em></strong> = c7<strong><em>a</em></strong> + c8<strong><em>b</em></strong> + c9<strong><em>c</em></strong></p>
<h4 id="Example-Build-operatorname-Au-111-sqrt-3-times-sqrt-3-R-30-circ-slab-from-primitive-slab"><a href="#Example-Build-operatorname-Au-111-sqrt-3-times-sqrt-3-R-30-circ-slab-from-primitive-slab" class="headerlink" title="Example: Build $\operatorname{Au}(111)-(\sqrt{3} \times \sqrt{3}) R 30^{\circ}$ slab from primitive slab"></a>Example: Build $\operatorname{Au}(111)-(\sqrt{3} \times \sqrt{3}) R 30^{\circ}$ slab from primitive slab</h4><p>Build a supercell with its length of new lattice vector equal to $\sqrt{3}$a.</p>
<p><img style="width:600px" src="../images/vaspkit-manual/vaspkit-manual9.png" alt="unfold band" align="center"></p>
<pre><code>400

  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
 Enter the new lattice verctor a in terms of old:
 (MUST be three integers, e.g., 1 2 3)
1 -1 0
 Enter the new lattice verctor b in terms of old:
2 1 0
 Enter the new lattice verctor c in terms of old:
0 0 1
 +-------------------------- Summary ----------------------------+
 The Transformation Matrix P is:
   1  -1   0
   2   1   0
   0   0   1
 Lattice Constants in New Cell:   4.995   4.995  17.064
 Lattice Angles in New Cell:   90.00   90.00   60.00
 Total Atoms in New Cell:  
 Volume of New Cell is 3 times of the Old Cell
</code></pre><h3 id="8-2-Build-Supercell"><a href="#8-2-Build-Supercell" class="headerlink" title="8.2 Build Supercell"></a>8.2 Build Supercell</h3><p>VASPKIT <code>401</code> can build supercell by three number C<sub>1</sub>, C<sub>2</sub>, C<sub>3</sub>.</p>
<script type="math/tex; mode=display">
\left(\begin{array}{l}{A} \\ {B} \\ {C}\end{array}\right)=\left(\begin{array}{lll}{c_{1}} & {c_{2}} & {c_{3}}\end{array}\right)\left(\begin{array}{l}{a} \\ {b} \\ {c}\end{array}\right)</script><p>For example, build supercell 2 times in the <strong><em>a</em></strong> and <strong><em>b</em></strong> direction and keep the <strong><em>c</em></strong> vector.</p>
<pre><code>401
 ===================== Structural File ===========================
 1) POSCAR                                            
 2) CONTCAR                                           
 3) The Specified Filename                                           

 0) Quit                                              
 9) Back                                              
 ------------&gt;&gt;
1
  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
 +-------------------------- Warm Tips --------------------------+
 Enter the repeated unit along a, b and c directions with space!
 (MUST be three integers, e.g., 1 2 3)

 ------------&gt;&gt;
2 2 1
  --&gt;&gt; (02) Written SC221.vasp File
</code></pre><h3 id="8-3-Fix-Atoms-by-Layers"><a href="#8-3-Fix-Atoms-by-Layers" class="headerlink" title="8.3 Fix Atoms by Layers"></a>8.3 Fix Atoms by Layers</h3><p>VASP default structural optimization allows all atoms to move freely in all directions (x, y, z). In some cases, structural optimization calculations require to fix some atoms. For example, surface calculations with slab model need to fix some bottom atoms. </p>
<p>To fix atoms, the POSCAR seventh line should be switched to <code>selective dynamics</code> (only the first character is relevant and must be <em>S</em> or <em>s</em>). This mode allows to provide extra flags for each atom signaling whether the respective coordinate(s) of this atom will be allowed to change during the ionic relaxation. <code>F</code> means fix, and <code>T</code> means not fix. </p>
<p>VASPKIT provides two options <code>402</code> to fix atoms by layers:</p>
<p>(1) Input the file name that we want to fix. <code>1</code> for POSCAR, <code>2</code> for CONTCAR, <code>3</code> for specified name but should also be POSCAR format.</p>
<p>(2) Input a threshold (unit: Å) to separate layers. Only two atomic layers’ z coordination bigger than the threshold, those layers can be recongnized. Otherwise, it will be recongnized to be one layer. VASPKIT shows some suggested threshold and its corresponding layers number.</p>
<p>Then VASPKIT will print the regonized layers number.</p>
<p>(3) Choose the layers that we want to fix. VASPKIT will automitically fix those bottom layers and output a <code>POSCAR_FIX</code> file. Before VASP calcualtion, <code>cp POSCAR_FIX POSCAR</code>.</p>
<pre><code> 402
 ===================== Structural File ===========================
 1) POSCAR                                            
 2) CONTCAR                                           
 3) The Specified Filename                                           

 0) Quit                                              
 9) Back                                              
 ------------&gt;&gt;
1
  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
 Threshold:  0.3 layers:   4
 Threshold:  0.6 layers:   4
 Threshold:  0.9 layers:   4
 Threshold:  1.2 layers:   4
 Threshold:  1.5 layers:   4
 Please choose a threshold to separate layers-&gt;
1
 Found 4 layers, choose how many layers to be fixed=&gt;
2
Fixed atoms are:    1   4
  --&gt;&gt; (02) Written POSCAR_FIX File!
</code></pre><h3 id="8-4-Fix-Atoms-by-Height"><a href="#8-4-Fix-Atoms-by-Height" class="headerlink" title="8.4 Fix Atoms by Height"></a>8.4 Fix Atoms by Height</h3><p>VASPKIT <code>403</code> can also fix atoms, but by a range of z coordinations. Similar as the option <code>402</code>, first select a structural file, and then input two numbers to set the z coordiation range. Then, it will output <code>POSCAR_FIX</code> file. </p>
<p>If the <code>(1) Fractional coordinates</code> is select, the input <code>z_min z_max</code> numbers should be the z fractional coordination and the output file <code>POSCAR_FIX</code> also is writen as fractional style. </p>
<p>If the <code>(2) Cartesian coordinates</code> is select, the input <code>z_min z_max</code> numbers should be the z cartesian coordination and the output file <code>POSCAR_FIX</code> also is writen as cartesian style. </p>
<pre><code>403
 ===================== Structural File ===========================
 1) POSCAR                                            
 2) CONTCAR                                           
 3) The Specified Filename                                           

 0) Quit                                              
 9) Back                                              
 ------------&gt;&gt;
1
  --&gt;&gt; (01) Reading Structural Parameters from POSCAR File...
 +---------------------------------------------------------------+
 |               Selective Dynamics is Activated!                |
 +---------------------------------------------------------------+
 Atoms between your chosen section in z direction will be fixed
 Type z_min z_max, Note: z_min &lt; z_max
0 5 
 Read and Write atomic coordinates as:
 (1) Fractional coordinates
 (2) Cartesian coordinates
2
Fixed atoms are:    1   4
  --&gt;&gt; (02) Written POSCAR_FIX File!
</code></pre><h3 id="8-5-Swap-Axis-of-Lattice-Vector"><a href="#8-5-Swap-Axis-of-Lattice-Vector" class="headerlink" title="8.5 Swap Axis of Lattice Vector"></a>8.5 Swap Axis of Lattice Vector</h3><p>VASPKIT <code>407</code> can do swap two axis of lattice vector.</p>
<h2 id="9-Potential-related"><a href="#9-Potential-related" class="headerlink" title="9 Potential related"></a>9 Potential related</h2><h3 id="9-1-Planar-Average-Potential"><a href="#9-1-Planar-Average-Potential" class="headerlink" title="9.1 Planar Average Potential"></a>9.1 Planar Average Potential</h3><p>Plane-average for grid files is one of the basic function of vaspkit (426). It supports all grid files of vasp output, such as CHGCAR, LOCPOT, ELFCAR. All such grid files write by following commands in Fortran:</p>
<pre><code class="lang-fortran">WRITE(IU,FORM) (((C(NX,NY,NZ),NX=1,NGXC),NY=1,NGYZ),NZ=1,NGZC)
</code></pre>
<p>For one selected direction, such as z direction. VASPKIT do an average in XY plane on each NZ, </p>
<script type="math/tex; mode=display">
\sum_{i j} \Delta x_{i} \Delta y_{j} \rho_{i, j} / \sum_{i j} \Delta x_{i} \Delta y_{j}</script><p><img style="width:600px" src="../images/vaspkit-avgpot/vaspkit-avgpot3.png" alt="unfold band" align="center"></p>
<p>Output POTPAVG.dat with two columns. First column is z coordination (in Å), Second column is Planar Average-Potential (in eV) or Densitiy (in e).</p>
<p>Here, take LOCPOT as an example. It contains total local potential (in eV) when LVTOT   =  .TRUE. exists in the INCAR file, or contains electrostatic potential (in eV) when LVHAR = .TRUE. exists in the INCAR file. Electrostatic potential is desirable for the evaluation of the work-function, because the electrostatic potential converges more rapidly to the vacuum level than the total potential. To get the work-function, potential along z direction (i.e. slab normal direction) must be averaged in the slab planes. </p>
<p>Hamiltonian of Kohn-Sham is:</p>
<script type="math/tex; mode=display">
\hat{H}=-\frac{1}{2} \nabla^{2}-\sum_{A} \frac{Z_{A}}{\left|\boldsymbol{r}-\boldsymbol{R}_{A}\right|}+\int_{\infty} \frac{\rho\left(\boldsymbol{r}^{\prime}\right)}{\left|\boldsymbol{r}-\boldsymbol{r}^{\prime}\right|} d \boldsymbol{r}^{\prime}+v_{x c}[\rho(\boldsymbol{r})]</script><p>Electrostatic potential is the summation of second (ionic) and third (hartree) parts of Hamiltonian .</p>
<p>For example, calculate the work-function of Au(111) slab with five atomic layers. </p>
<p>(1) Do an optimization and a single-point calculation to get the LOCPOT file, single-point INCAR as following:</p>
<pre><code>##### initial parameters I/O #####
SYSTEM = Au
NCORE = 5 
ISTART = 1 
ICHARG = 1 
LWAVE = .TRUE. 
LCHARG = .TRUE. 
LVTOT = .FALSE. 
LVHAR = .TRUE. 
LELF = .FALSE. 

#### Electronic Relaxation ####
ENCUT = 400 
ISMEAR = 1 
SIGMA = 0.2 
EDIFF = 1E-6 
NELMIN = 5 
NELM = 300 
GGA = PE 
LREAL = Auto 
IDIPOL = 3
</code></pre><p>(2) Run vaspkit 426 function, and select the surface normal direction:</p>
<pre><code>426
 +-------------------------- Warm Tips --------------------------+
                  You MUST Know What You are Doing  
   Check Convergence of Planar Average Value on Vacuum-Thickness!
 +---------------------------------------------------------------+
 ===================== Specified Direction =======================
 Which Direction is for the Planar Average?           
 1) x Direction                                       
 2) y Direction                                       
 3) z Direction                                       

 0) Quit                                              
 9) Back                                              
 ------------&gt;&gt;
3
 --&gt;&gt; (1) Reading Structural Parameters from LOCPOT File...
 --&gt;&gt; (2) Reading Local Potential From LOCPOT File...
 --&gt;&gt; (3) Written POTPAVG.dat File!
 +-------------------------- Warm Tips --------------------------+
  Check the Convergence of Vacuum-Level Versus Vacuum Thickness!      
 +---------------------------------------------------------------+
 +-------------------------- Summary ----------------------------+
 Vacuum-Level  (eV):    6.695
 +---------------------------------------------------------------+
</code></pre><p>So, the Vacuum-Level is 6.695, POTPAVG.dat as following:</p>
<pre><code> # Planar Distance (in Angstrom), Planar Average-Potential (in eV) or -Densitiy (in e)
  0.0000    0.27377302E+01
  0.1025    0.94832051E+00
  0.2049   -0.13842911E+01
  0.3074   -0.40872693E+01
  0.4099   -0.69356914E+01
  0.5123   -0.96882699E+01
  0.6148   -0.12150765E+02
  0.7172   -0.14164741E+02
  ...
</code></pre><p>(3) get the fermi level by:</p>
<pre><code>grep E-fermi OUTCAR 
E-fermi :   1.5199     XC(G=0):  -6.7056     alpha+bet : -6.4642
</code></pre><p>(4) Draw figure with origin or matplotlib:</p>
<p>The obtained Plane-averaged electrostatic potential figure:</p>
<p><img style="width:600px" src="../images/vaspkit-avgpot/vaspkit-avgpot1.png" alt="unfold band" align="center"></p>
<p><img style="width:530px" src="../images/vaspkit-avgpot/vaspkit-avgpot2.png" alt="unfold band" align="center"></p>
<p>So, work function can be calculated as:</p>
<script type="math/tex; mode=display">
\Phi=E_{\mathrm{vac}}-E_{\mathrm{F}}</script><p>$\Phi$ = 6.695 - 1.5199 = 5.1751 eV</p>
<h3 id="9-2-Macroscopic-Averaged-Potential"><a href="#9-2-Macroscopic-Averaged-Potential" class="headerlink" title="9.2 Macroscopic Averaged Potential"></a>9.2 Macroscopic Averaged Potential</h3><p>Besides planar-avergaed potential , VASPKIT can also calculate macroscopic-averaged potential, which is obtained by convolving the planar-avergaed potential with a moving average.  e.g. If one want to do planar-avergaed potential in z-direction, use z = average(x, y) for every z. If one want to do macroscopic-averaged potential in z-dirction, use z = average(x, y, z +/- $\Delta$z’) for every z, where z’ is the layer distance for repeat strctures.</p>
<p>For example: MoS<sub>2</sub>/WS<sub>2</sub> heterogeneous junction.</p>
<p><strong>Step 1</strong>. do a single-point calculation with LVHAR = .TRUE., </p>
<p><strong>Step 2</strong>. run vaspkit 427 function to obtain planar-avergaed potential and macroscopic-averaged potential from LOCPOT. </p>
<ol>
<li><p>Select which Direction is calculte for the Planar Average?  </p>
</li>
<li><p>Input the period length to calculate macroscopic average. (To acculerate the convergence, this value should be close to and smaller than the layer distanse) </p>
</li>
<li><p>Input iteration number to get smoother macroscopic curve.</p>
</li>
</ol>
<pre><code>   427
    +-------------------------- Warm Tips --------------------------+
                     You MUST Know What You are Doing  
      Check Convergence of Planar Average Value on Vacuum-Thickness!
    +---------------------------------------------------------------+
    ===================== Specified Direction =======================
    Which Direction is for the Planar Average?           
    1) x Direction                                       
    2) y Direction                                       
    3) z Direction                                       

    0) Quit                                              
    9) Back                                              
    ------------&gt;&gt;
   1
     --&gt;&gt; (01) Reading Structural Parameters from LOCPOT File...
     --&gt;&gt; (02) Reading Local Potential From LOCPOT File...
    Please input the period length to calculate macroscopic average:
    (Typical value: the minimum length of repeated unit.)

    ------------&gt;&gt;
   1.5
    Please input iteration number to get smoother macroscopic curve:
    (Must be integer. You can gradually increase from 1 to 3.)

    ------------&gt;&gt;
   3
     --&gt;&gt; (03) Written PLANAR_AVERAGE.dat File!
    +-------------------------- Summary ----------------------------+
    Maximum of macroscopic average:   0.099
    Minimum of macroscopic average:  -0.101
    +---------------------------------------------------------------+
     --&gt;&gt; (04) Written MACROSCOPIC_AVERAGE.dat File!
</code></pre><p><strong>Step 3</strong>. Draw graphs from the output <code>MACROSCOPIC_AVERAGE.dat</code>, and <code>PLANAR_AVERAGE.dat</code></p>
<p><img style="width:600px" src="../images/vaspkit-macropot/vaspkit-macropot1.png" alt="unfold band" align="center"></p>
<p><img style="width:700px" src="../images/vaspkit-macropot/vaspkit-macropot2.png" alt="unfold band" align="center"></p>
<p><div style="page-break-after: always;"></div></p>
<h2 id="10-Density-related"><a href="#10-Density-related" class="headerlink" title="10 Density related"></a>10 Density related</h2><h3 id="10-1-Charge-Density-and-Spin-Density"><a href="#10-1-Charge-Density-and-Spin-Density" class="headerlink" title="10.1 Charge Density and Spin Density"></a>10.1 Charge Density and Spin Density</h3><p>When use spin-polarized parameter (SPIN = 2),  the output CHGCAR will contain charge density and spin density. VASPKIT can extract the charge density and spin density by options <code>311</code> and <code>312</code> respectively. Outputs are saved in <code>CHARGE.vasp</code> and <code>SPIN.vasp</code>.</p>
<p>VASPKIT can also calculate the Spin-Up &amp; Spin-Down density by option <code>313</code>. The outputs are saved in <code>SPIN_UP.vasp</code> &amp; <code>SPIN_DW.vasp</code> files</p>
<h3 id="10-2-Charge-Density-Difference"><a href="#10-2-Charge-Density-Difference" class="headerlink" title="10.2 Charge Density Difference"></a>10.2 Charge Density Difference</h3><p>VASPKIT is powerful at post-process grid file from VASP, such as CHGCAR, ELFCAR, LOCPOT, PARCHG. </p>
<p>CHGCAR contains the lattice vectors, atomic coordinates, the total charge density multiplied by the volume  on the fine FFT-grid (NG(X,Y,Z)F), and the PAW one-center occupancies. By subtract two or more CHGCAR, One can get the charge density difference.</p>
<p>Note: From electrostatic potential (LOCPOT), electron localization function (ELFCAR), and partial charge (PARCHG) density difference calculation can also be accomplished by the same method of VASPKIT.</p>
<p>Charge density difference is one of the important way to investigate electronic structure. It can intuitively get the electron flow from the interaction of two fragments. And explore the essence of chemical bond. There are several forms of charge density difference.：</p>
<p>（1）The charge density of the total system subtract the density of two or more segments that make up it：</p>
<script type="math/tex; mode=display">
\Delta \rho=\rho_{A B}-\rho_{A}-\rho_{B}</script><p>（2）Charge density difference before and after self-consistent calculation. Also known as deformation charge density:</p>
<script type="math/tex; mode=display">
\Delta \rho=\rho\left(A B_{\text { self-consistent }}\right)-\rho\left(A B_{\text { atomic }}\right)</script><p>（3）Density in one electronic state subtracts density in another. For example, the charge density under an applied electric field subtracts the charge density without an external electric field. Another example is the density of the excited state minus the density of the ground state.</p>
<script type="math/tex; mode=display">
\Delta \rho=\rho\left(A B_{\text { state 1 }}\right)-\rho\left(A B_{\text { state 0 }}\right)</script><p>Among the three charge density differences mentioned above, no matter which calculation, must ensure that the <strong>cell parameters and coordinates of atoms must be consistent</strong>.</p>
<h4 id="Example-Charge-density-difference-of-two-fragments"><a href="#Example-Charge-density-difference-of-two-fragments" class="headerlink" title="Example: Charge density difference of two fragments"></a>Example: Charge density difference of two fragments</h4><p>Take CO adsorption on Ni(100) surface as an example：</p>
<p>(1) Optimize the structure of <strong>CO/Ni(100)</strong>，</p>
<p>(2) Do the single-point self-consistent calculation of Ni(100) and CO respectively.<br><strong>ATTENTION</strong>: The atomic position of CO and Ni(100) fragments should be take from optimized CO/Ni(100) CONTCAR, do NOT optimized the CO and Ni(100) fragments！</p>
<p>(3) Run VASPKIT <code>314</code>. Input the path of three CHGCAR respectively:</p>
<pre><code>314   
 ======================= File Options ============================
 Input the Names of Charge/Potential Files with Space: 
 (e.g., to get AB-A-B, type: ~/AB/CHGCAR ./A/CHGCAR ../B/CHGCAR)
 (e.g., to get A-B, type: ~/A/CHGCAR ./B/CHGCAR)

 ------------&gt;&gt;
./CHGCAR ./co/CHGCAR ./slab/CHGCAR

  --&gt;&gt; (01) Reading Structural Parameters from ./CHGCAR File...
  --&gt;&gt; (02) Reading Charge Density From ./CHGCAR File...
  --&gt;&gt; (03) Reading Structural Parameters from ./co/CHGCAR File...
  --&gt;&gt; (04) Reading Charge Density From ./co/CHGCAR File...
  --&gt;&gt; (05) Reading Structural Parameters from ./slab/CHGCAR File...
  --&gt;&gt; (06) Reading Charge Density From ./slab/CHGCAR File...
  --&gt;&gt; (07) Written CHGDIFF.vasp File!
</code></pre><p>The output CHGDIFF.vasp is also a grid that can be opened by VESTA.</p>
<p><img style="width:500px" src="../images/chgdiff/chgdiff1.png" alt="unfold band" align="center"></p>
<h4 id="Example-Deformation-charge-density-of-CO"><a href="#Example-Deformation-charge-density-of-CO" class="headerlink" title="Example: Deformation charge density of CO"></a>Example: Deformation charge density of CO</h4><p>(1) Do self-consistent calculation for CO molecule.</p>
<p>(2) Make a new folder, do non-selfconsistent calculations to output a superposition of atomic charge densities.</p>
<p>(3) Run VASPKIT <code>314</code> Input the path of two CHGCAR respectively.</p>
<pre><code>    314   
     ======================= File Options ============================
     Input the Names of Charge/Potential Files with Space: 
     (e.g., to get AB-A-B, type: ~/AB/CHGCAR ./A/CHGCAR ../B/CHGCAR)
     (e.g., to get A-B, type: ~/A/CHGCAR ./B/CHGCAR)

     ------------&gt;&gt;
    ./CHGCAR ./deform/CHGCAR

      --&gt;&gt; (01) Reading Structural Parameters from ./CHGCAR File...
      --&gt;&gt; (02) Reading Charge Density From ./CHGCAR File...
      --&gt;&gt; (03) Reading Structural Parameters from ./deform/CHGCAR File...
      --&gt;&gt; (04) Reading Charge Density From ./deform/CHGCAR File...
      --&gt;&gt; (05) Written CHGDIFF.vasp File!
</code></pre><p>(4) Output the CHGDIFF.vasp file and open it by VESTA.</p>
<script type="math/tex; mode=display">
\Delta \rho=\rho\left(A B_{\text { self-consistent }}\right)-\rho\left(A B_{\text { atomic }}\right)</script><p><img style="width:500px" src="../images/chgdiff/chgdiff2.png" alt="unfold band" align="center"></p>
<h4 id="Example-Charge-density-difference-of-InSe-with-electric-field"><a href="#Example-Charge-density-difference-of-InSe-with-electric-field" class="headerlink" title="Example: Charge density difference of InSe with electric field"></a>Example: Charge density difference of InSe with electric field</h4><p>(1) Optimized the InSe structure with no external electric field.</p>
<p>(2) Do self-consistent single-point calculation based the optimized structure.</p>
<pre><code>  EFIELD = 0.05
  IDIPOL = 3
  LDIPOL = .TRUE.
</code></pre><p>EFIELD controls the magnitude of the applied electric force field in units of eV/Å.</p>
<p>(3)：Run Vaspkit <code>314</code> do charge density difference.</p>
<p>(4) Output the CHGDIFF.vasp file and open it by VESTA.</p>
<p><img style="width:600px" src="../images/chgdiff/chgdiff3.png" alt="unfold band" align="center"></p>
<h3 id="10-3-WaveFunction-Visualization-in-Real-Space"><a href="#10-3-WaveFunction-Visualization-in-Real-Space" class="headerlink" title="10.3 WaveFunction Visualization in Real-Space"></a>10.3 WaveFunction Visualization in Real-Space</h3><p>VASPKIT can extract the planewave coefficients of Kohn-Sham (KS) orbital from the WAVECAR file and output the real-space wavefunction. Users need to input which K point to plot, and which band to plot.</p>
<p>Note: Now, VASPKIT can only output wavefunction for specified one K points and one band at one time. To sum several K points or seting the energy range, VASP partial charge calculation can do it.</p>
<h4 id="Example-WaveFunction-of-CO-molecule"><a href="#Example-WaveFunction-of-CO-molecule" class="headerlink" title="Example: WaveFunction of CO molecule"></a>Example: WaveFunction of CO molecule</h4><p>(1) Check the band structure or <code>IBZKPT</code> file to check which K point do you want to plot? For CO molecule calculation, there is only one Gamma point. So input <code>1</code></p>
<pre><code> Which K-POINT do you want to plot? (1&lt;= ikpt &lt;=1)

 ------------&gt;&gt;
1
</code></pre><p>(2) Check the band structure or <code>EIGENVAL</code> file to check which band do you want to plot? The EIGENVAL file shows as following. The five colume are 1, band number. 2, spin up band energy. 3, spin down band energy. 4, spin up occupation number. 5, spin down occupation number. </p>
<pre><code>1      -29.245473    -29.245473   1.000000   1.000000
2      -14.032873    -14.032873   1.000000   1.000000
3      -11.728864    -11.728864   1.000000   1.000000
4      -11.728864    -11.728864   1.000000   1.000000
5       -9.029100     -9.029099   1.000000   1.000000
6       -2.131725     -2.131723   0.000000   0.000000
7       -2.131725     -2.131723   0.000000   0.000000
8       -0.143054     -0.143371   0.000000   0.000000
</code></pre><p>If we want to check the HOMO and LUMO or VBM and CBM, select band 5, 6, 7 in turn.</p>
<pre><code>511
 +-------------------------- Warm Tips --------------------------+
     Open Real-Space WaveFunction Files with VESTA/VMD Package.          
 +---------------------------------------------------------------+
 Which K-POINT do you want to plot? (1&lt;= ikpt &lt;=1)

 ------------&gt;&gt;
1
 Which BAND do you want to plot? (1&lt;= iband &lt;=36)

 ------------&gt;&gt;
5
 +-------------------------- Warm Tips --------------------------+
   Current Version Only Support the Stardard Version of VASP code.        
 +---------------------------------------------------------------+
  --&gt;&gt; (01) Reading the header information in WAVECAR file...
 +--------------------- WAVECAR Header --------------------------+
 SPIN =    2
 NKPTS =    1
 NBANDS =  36
 ENCUT =   400.00
 Coefficients Precision: Complex*8
 Maximum number of G values: GX =   25, GY =   25, GZ =   25
 Estimated maximum number of plane-waves:   65450
 +---------------------------------------------------------------+
  --&gt;&gt; (02) Start to Post-Process Wavefunctions...
  --&gt;&gt; (03) Reading Structural Parameters from POSCAR File...
  --&gt;&gt; (04) Written RWAV_B0005_K0001_UP.vasp File!
  --&gt;&gt; (05) Written IWAV_B0005_K0001_UP.vasp File!
  --&gt;&gt; (06) Written RWAV_B0005_K0001_DW.vasp File!
  --&gt;&gt; (07) Written IWAV_B0005_K0001_DW.vasp File!

Note: Now, VASPKIT can only output wavefunction for specified one K points and one band at one time. To sum several K points or seting the energy range, VASP partial charge calculation can do it.
</code></pre><p>The output file format is VASP grid file that is same as CHGCAR, and can be opened by VESTA.</p>
<p> <code>RWAV</code> is real part of wavefunction and <code>IWAV</code> is imaginary part of wavefunction. Usually, we just need to plot and analyze the real part. <code>B0005</code> is band number, <code>K0001</code> is K point number in IBZKPT file. Spin up and spin down are output seperately.</p>
<p>Show <code>RWAV_B0005_K0001_UP.vasp</code>, <code>RWAV_B0006_K0001_UP.vasp</code>, and <code>RWAV_B0007_K0001_UP.vasp</code>… files by VESTA.</p>
<p><img style="width:600px" src="../images/vaspkit-manual/vaspkit-manual10.png" alt="unfold band" align="center"></p>
<h4 id="Example-WaveFunction-of-MoS2-WS2-Heterojuctions"><a href="#Example-WaveFunction-of-MoS2-WS2-Heterojuctions" class="headerlink" title="Example: WaveFunction of MoS2/WS2 Heterojuctions"></a>Example: WaveFunction of MoS<sub>2</sub>/WS<sub>2</sub> Heterojuctions</h4><p>Check the <code>IBZKPT</code> file and <code>EIGENVAL</code> file. The <code>EIGENVAL</code>  shows the VBM and CBM at Gamma is:</p>
<pre><code>...
  287       -2.799024   1.000000
  288       -2.799005   1.000000
  289       -0.201544   0.000000
  290       -0.201541   0.000000
...
</code></pre><p>Extract the <code>288</code> and <code>289</code> bands at Gamma point. Run VASPKIT, input <code>511-1-288</code> and <code>511-1-289</code>. Open the <code>RWAV</code> files by VESTA.</p>
<p><img style="width:800px" src="../images/vaspkit-manual/vaspkit-manual11.png" alt="unfold band" align="center"></p>
<p><div style="page-break-after: always;"></div></p>
<h2 id="12-Other-Functions"><a href="#12-Other-Functions" class="headerlink" title="12 Other Functions"></a>12 Other Functions</h2><h3 id="12-1-Molecular-Dynamics-process"><a href="#12-1-Molecular-Dynamics-process" class="headerlink" title="12.1 Molecular Dynamics process"></a>12.1 Molecular Dynamics process</h3><h3 id="12-2-File-Format-Transfer"><a href="#12-2-File-Format-Transfer" class="headerlink" title="12.2 File Format Transfer"></a>12.2 File Format Transfer</h3><div class="table-container">
<table>
<thead>
<tr>
<th>From</th>
<th>to</th>
<th>VASPKIT Option</th>
</tr>
</thead>
<tbody>
<tr>
<td>XDATCAR</td>
<td>PDB</td>
<td>405</td>
</tr>
<tr>
<td>POSCAR/CONTCAR</td>
<td>POSCAR (with Cartesian Coordinates)</td>
<td>4061</td>
</tr>
<tr>
<td></td>
<td>POSCAR (with Fractional Coordinates)</td>
<td>4062</td>
</tr>
<tr>
<td></td>
<td>CIF (POSCAR.cif)</td>
<td>4063</td>
</tr>
<tr>
<td></td>
<td>ATAT (lat.in) (experimental)</td>
<td>4064</td>
</tr>
<tr>
<td></td>
<td>XCrySDen (POSCAR.xsf)</td>
<td>4065</td>
</tr>
<tr>
<td></td>
<td>Quantum-Espresso (pwscf.in)</td>
<td>4066</td>
</tr>
<tr>
<td></td>
<td>Elk (elk.in)</td>
<td>4067</td>
</tr>
<tr>
<td></td>
<td>Siesta (POSCAR.fdf)</td>
<td>4068</td>
</tr>
<tr>
<td></td>
<td>PDB Format (POSCAR.pdb)</td>
<td>4069</td>
</tr>
<tr>
<td>CIF</td>
<td>POSCAR</td>
<td>105</td>
</tr>
<tr>
<td>xsd</td>
<td>POSCAR</td>
<td>106</td>
</tr>
<tr>
<td>Bader results</td>
<td>pqr</td>
<td>508</td>
</tr>
<tr>
<td>CHGCAR/PARCHG</td>
<td>XcrySDen .xsf format</td>
<td>318</td>
</tr>
<tr>
<td></td>
<td>Gaussian .cube format</td>
<td>319</td>
</tr>
<tr>
<td>LOCPOT/ELFCAR</td>
<td>XcrySDen .xsf format</td>
<td>428</td>
</tr>
<tr>
<td></td>
<td>XcrySDen .xsf format</td>
<td>429</td>
</tr>
</tbody>
</table>
</div>
<h3 id="12-3-USER-interface"><a href="#12-3-USER-interface" class="headerlink" title="12.3 USER interface"></a>12.3 USER interface</h3><h3 id="12-4"><a href="#12-4" class="headerlink" title="12.4"></a>12.4</h3>
      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以可以邮件至 vaspkit@gmail.com </span>
    </div>
</article>


<p>
    <a href="javascript:void(0)" class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span>文章标题:</span>VASPKIT v0.80 Menual</p>
    
    <p><span>本文作者:</span><a href="javascript:void(0)" title="VASPKIT">VASPKIT</a></p>
    <p><span>发布时间:</span>2019-06-28, 00:00:00</p>
    <p><span>最后更新:</span>2019-06-28, 17:08:23</p>
    <span>原始链接:</span><a class="post-url" href="/2019/06/28/manual/" title="VASPKIT v0.80 Menual">http://vaspkit.com/2019/06/28/manual/</a>
    <p>
        <span>版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target="_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>




    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async src="//cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<input type="hidden" id="MathJax-js" value="//cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">

    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2016-2019 Yelog</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class id="rocket" href="javascript:void(0)"></a>
    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
<script src="//cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>

<script src="/js/script.js?v=1"></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['@V. Wang','@Nan Xu','#VASP','#vaspkit','#能带','#Band structure',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1;
            var $numbering = $('<ul/>').addClass('pre-numbering').attr("unselectable","on");
            $(this).addClass('has-numbering')
                    .parent()
                    .append($numbering);
            for(i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
</style>

<!--自定义样式设置-->
<style>
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    
    .post .pjax article blockquote {
        padding: 10px 20px;
        background-color: white;
        border: none;
        border-left: 4px solid #42b983;
        border-right: 4px solid #42b983;
        border-radius: 10px;
    }
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.1;
        background: url("http://img.xiangzhangshugongyi.com/FlSExUGfRSaqxkK5v42CpuI-tXAL.jpg");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
