<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  <title>Charge density difference | VASPKIT</title>
  <meta name="keywords" content>
  <meta name="description" content="Charge density difference | VASPKIT">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="########## citation ########## Ve WANG, Nan XU, Jin-Cheng LIU VASPKIT: A Pre- and Post-Processing Program for the VASP Code. http://vaspkit.sourceforge.net. ########## citation ##########  The Vienna">
<meta property="og:type" content="article">
<meta property="og:title" content="VASPKIT v0.80 Menual">
<meta property="og:url" content="http://vaspkit.com/2019/06/20/quick-start/index.html">
<meta property="og:site_name" content="VASPKIT">
<meta property="og:description" content="########## citation ########## Ve WANG, Nan XU, Jin-Cheng LIU VASPKIT: A Pre- and Post-Processing Program for the VASP Code. http://vaspkit.sourceforge.net. ########## citation ##########  The Vienna">
<meta property="og:locale" content="English">
<meta property="og:image" content="http://vaspkit.com/images/vaspkit-manual/vaspkit-manual1.jpg">
<meta property="og:image" content="http://vaspkit.com/images/band/band1.png">
<meta property="og:image" content="http://vaspkit.com/images/band/band2.png">
<meta property="og:image" content="http://vaspkit.com/images/band/band3.png">
<meta property="og:image" content="http://vaspkit.com/images/band/band6.png">
<meta property="og:image" content="http://vaspkit.com/images/band/band4.png">
<meta property="og:image" content="http://vaspkit.com/images/band/band5.png">
<meta property="og:image" content="http://vaspkit.com/images/band/band7.png">
<meta property="og:image" content="http://vaspkit.com/images/vaspkit-hse-band/vaspkit-hse-band1.png">
<meta property="og:image" content="http://vaspkit.com/images/vaspkit-hse-band/vaspkit-hse-band2.png">
<meta property="og:image" content="http://vaspkit.com/images/vaspkit-hse-band/vaspkit-hse-band3.png">
<meta property="og:image" content="http://vaspkit.com/images/vaspkit-hse-band/vaspkit-hse-band4.png">
<meta property="og:updated_time" content="2019-06-20T15:16:23.849Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="VASPKIT v0.80 Menual">
<meta name="twitter:description" content="########## citation ########## Ve WANG, Nan XU, Jin-Cheng LIU VASPKIT: A Pre- and Post-Processing Program for the VASP Code. http://vaspkit.sourceforge.net. ########## citation ##########  The Vienna">
<meta name="twitter:image" content="http://vaspkit.com/images/vaspkit-manual/vaspkit-manual1.jpg">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value>
</div>

<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg">
</a>
<div class="author">
    <span>VASPKIT</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"/>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/tamaswells/VASPKIT_manual" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"/>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:vaspkit@gmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"/>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(7)</small></div></li>
    
        
            
            <li><div data-rel="vaspkit">vaspkit<small>(7)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a style="border-right: 1px solid #fff; width: 49%" class="about site_url" href="/about">关于</a><a style="width: 50%" class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="7">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="/www.vasp.at">VASP</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off" id="local-search-input">
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none">
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">VASP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">能带</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">vaspkit</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">Band structure</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a class="vaspkit " href="/2019/05/19/pband/" data-tag="VASP,能带" data-author="Jincheng Liu">
            <span class="post-title" title="Draw Band Structure figure by Origin">Draw Band Structure figure by Origin</span>
            <span class="post-date" title="2019-05-19 00:00:00">2019/05/19</span>
        </a>
        
        <a class="vaspkit " href="/2019/06/03/chgdiff/" data-tag data-author="Jincheng Liu">
            <span class="post-title" title="Charge density difference">Charge density difference</span>
            <span class="post-date" title="2019-06-03 00:00:00">2019/06/03</span>
        </a>
        
        <a class="vaspkit " href="/2019/05/21/vaspkit-avgpot/" data-tag="VASP,能带" data-author="Jincheng Liu">
            <span class="post-title" title="Plane-average Potential and Work Function">Plane-average Potential and Work Function</span>
            <span class="post-date" title="2019-05-21 00:00:00">2019/05/21</span>
        </a>
        
        <a class="vaspkit " href="/2019/06/17/vaspkit-macropot/" data-tag="VASP,vaspkit" data-author="Jincheng Liu">
            <span class="post-title" title="macroscopic-averaged potential">macroscopic-averaged potential</span>
            <span class="post-date" title="2019-06-17 00:00:00">2019/06/17</span>
        </a>
        
        <a class="vaspkit " href="/2019/05/14/band/" data-tag="VASP,Band structure" data-author="Jincheng Liu">
            <span class="post-title" title="Band Structure calculation (Pure functional)">Band Structure calculation (Pure functional)</span>
            <span class="post-date" title="2019-05-14 00:00:00">2019/05/14</span>
        </a>
        
        <a class="vaspkit " href="/2019/05/22/vaspkit-hse-band/" data-tag="VASP,能带" data-author="Jincheng Liu">
            <span class="post-title" title="Band Structure calculation (Hybird functional)">Band Structure calculation (Hybird functional)</span>
            <span class="post-date" title="2019-05-22 00:00:00">2019/05/22</span>
        </a>
        
        <a class="vaspkit " href="/2019/06/20/quick-start/" data-tag data-author="Jincheng Liu">
            <span class="post-title" title="VASPKIT v0.80 Menual">VASPKIT v0.80 Menual</span>
            <span class="post-date" title="2019-06-20 01:30:17">2019/06/20</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-chgdiff" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Charge density difference</h1>
    
    <div class="article-meta">
        
        
        <span class="author"><a href="javascript:">Jincheng Liu</a></span>
        
        
        <span class="book">
            
                <a href="javascript:" data-rel="vaspkit">vaspkit</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title="更新时间: 2019-06-20 01:01:20">2019-06-03 00:00</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Charge-density-difference-of-two-fragments"><span class="toc-text">Charge density difference of two fragments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Deformation-charge-density"><span class="toc-text">Deformation charge density</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Charge-density-difference-at-external-electric-field"><span class="toc-text">Charge density difference at external electric field</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Draw-picture-from-CHGDIFF-vasp"><span class="toc-text">Draw picture from CHGDIFF.vasp</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>########## citation ##########</strong></p>
<p><strong>V. Wang, N. Xu, Jin-Cheng Liu VASPKIT: A Pre- and Post-Processing Program for the VASP Code. <a href="http://vaspkit.sourceforge.net" target="_blank" rel="noopener">http://vaspkit.sourceforge.net</a>.</strong></p>
<p><strong>########## citation ##########</strong></p>
<p>VASPKIT is powerful at post-process grid file from VASP, such as CHGCAR, ELFCAR, LOCPOT, PARCHG. </p>
<p>CHGCAR contains the lattice vectors, atomic coordinates, the total charge density multiplied by the volume  on the fine FFT-grid (NG(X,Y,Z)F), and the PAW one-center occupancies. By subtract two or more CHGCAR, One can get the charge density difference.</p>
<p>Note: From electrostatic potential (LOCPOT), electron localization function (ELFCAR), and partial charge (PARCHG) density difference calculation can also be accomplished by the same method of VASPKIT.</p>
<p>Charge density difference is one of the important way to investigate electronic structure. It can intuitively get the electron flow from the interaction of two fragments. And explore the essence of chemical bond. There are several forms of charge density difference.：</p>
<p>（1）The charge density of the total system subtract the density of two or more segments that make up it：</p>
<script type="math/tex; mode=display">
\Delta \rho=\rho_{A B}-\rho_{A}-\rho_{B}</script><p>（2）Charge density difference before and after self-consistent calculation. Also known as deformation charge density:</p>
<script type="math/tex; mode=display">
\Delta \rho=\rho\left(A B_{\text { self-consistent }}\right)-\rho\left(A B_{\text { atomic }}\right)</script><p>（3）Density in one electronic state subtracts density in another. For example, the charge density under an applied electric field subtracts the charge density without an external electric field. Another example is the density of the excited state minus the density of the ground state.</p>
<script type="math/tex; mode=display">
\Delta \rho=\rho\left(A B_{\text { state 1 }}\right)-\rho\left(A B_{\text { state 0 }}\right)</script><p>Among the three charge density differences mentioned above, no matter which calculation, must ensure that the <strong>cell parameters and coordinates of atoms must be consistent</strong>.</p>
<h2 id="Charge-density-difference-of-two-fragments"><a href="#Charge-density-difference-of-two-fragments" class="headerlink" title="Charge density difference of two fragments"></a>Charge density difference of two fragments</h2><p>Take CO adsorption on Ni(100) surface as an example：</p>
<p>Step 1：optimize the structure of <strong>CO/Ni(100)</strong>，The optimized CONTCAR：</p>
<pre><code> CONTCAR\(3)                            
   1.00000000000000     
     4.9777998924000002    0.0000000000000000    0.0000000000000000
     0.0000000000000000    4.9777998924000002    0.0000000000000000
     0.0000000000000000    0.0000000000000000   23.7996006012000016
   Ni   C    O 
    24     1     1
Selective dynamics
Direct
  0.0000000000000000  0.0000000000000000  0.2000000000000028   F   F   F
  0.0000403141048793  0.0001267891084566  0.3465324639523857   T   T   T
  0.0003869756759585  0.0005016061154492  0.4914092265927721   T   T   T
  0.2500000000000000  0.2500000000000000  0.1260499910000021   F   F   F
  0.2501509938760123  0.2501939027302242  0.2738045972087804   T   T   T
  0.2510445350818244  0.2510358567191133  0.4214201499164574   T   T   T
  0.5000000000000000  0.0000000000000000  0.2000000000000028   F   F   F
  0.5001131027590162  0.0001793013434579  0.3476242737143451   T   T   T
  0.5003637542315573  0.9997315722502194  0.4921789851389491   T   T   T
  0.7499999759999980  0.2500000000000000  0.1260499910000021   F   F   F
  0.7499316556673818  0.2502046005629239  0.2738030513532408   T   T   T
  0.7491890345597767  0.2510567755592561  0.4213836669568778   T   T   T
  0.0000000000000000  0.5000000000000000  0.2000000000000028   F   F   F
  0.0001477148529645  0.5002040345309098  0.3476407140178068   T   T   T
  0.9998279455461869  0.5004850843478295  0.4921814441992751   T   T   T
  0.2500000000000000  0.7499999759999980  0.1260499910000021   F   F   F
  0.2501233421650753  0.7499923211510620  0.2738063435823861   T   T   T
  0.2509685482545621  0.7492259105458245  0.4213662097234874   T   T   T
  0.5000000000000000  0.5000000000000000  0.2000000000000028   F   F   F
  0.5000095461819711  0.5000093692680139  0.3475763670314436   T   T   T
  0.4997626166386695  0.4997469098518152  0.4975764390870765   T   T   T
  0.7499999759999980  0.7499999759999980  0.1260499910000021   F   F   F
  0.7499481468791345  0.7499759622207023  0.2737998574575187   T   T   T
  0.7493532326515719  0.7494160592036465  0.4213303989337192   T   T   T
  0.5053523115939882  0.5076925776123602  0.5706792117914432   T   T   T
  0.5089497223101063  0.5124605842843479  0.6195520236066443   T   T   T
</code></pre><p>Step 2：Do the single-point self-consistent calculation of Ni(100) and CO respectively.<br><strong>ATTENTION</strong>: The atomic position of CO and Ni(100) fragments should be take from optimized CO/Ni(100) CONTCAR, do NOT optimized the CO and Ni(100) fragments！</p>
<p>Step 3：run VASPKIT <code>314</code>. Input the path of three CHGCAR respectively:</p>
<pre><code>314
 ======================= File Options ============================
 Input the Names of Charge/Potential Files with Space: 
 (e.g., to get AB-A-B, type: ~/AB/CHGCAR ./A/CHGCAR ../B/CHGCAR)

 ------------&gt;&gt;
./CHGCAR ./co/CHGCAR ./slab/CHGCAR

  --&gt;&gt; (01) Reading Structural Parameters from ./CHGCAR File...
  --&gt;&gt; (02) Reading Charge Density From ./CHGCAR File...
  --&gt;&gt; (03) Reading Structural Parameters from ./co/CHGCAR File...
  --&gt;&gt; (04) Reading Charge Density From ./co/CHGCAR File...
  --&gt;&gt; (05) Reading Structural Parameters from ./slab/CHGCAR File...
  --&gt;&gt; (06) Reading Charge Density From ./slab/CHGCAR File...
  --&gt;&gt; (07) Written CHGDIFF.vasp File!
</code></pre><p>The output CHGDIFF.vasp is also a grid that can be opened by VESTA.</p>
<h2 id="Deformation-charge-density"><a href="#Deformation-charge-density" class="headerlink" title="Deformation charge density"></a>Deformation charge density</h2><h2 id="Charge-density-difference-at-external-electric-field"><a href="#Charge-density-difference-at-external-electric-field" class="headerlink" title="Charge density difference at external electric field"></a>Charge density difference at external electric field</h2><h2 id="Draw-picture-from-CHGDIFF-vasp"><a href="#Draw-picture-from-CHGDIFF-vasp" class="headerlink" title="Draw picture from CHGDIFF.vasp"></a>Draw picture from CHGDIFF.vasp</h2><p>得到的电荷密度差文件必须作成图才便于被直观地考察，常用的图分为三类：</p>
<p>（1）3D 等值面图，isosurface。</p>
<p>（2）2D 切面图</p>
<p>（3）1D，平面平均的数值，plane-averaged </p>
<p>通常这几种图可以配合使用讨论。等值面图和切面图用VESTA画最方便，平面平均图用vaspkit生成最方便。</p>
<p>得到的CHGDIFF.vasp用vesta打开，isosurface青色部分电荷密度减小，黄色密度电荷密度增加。</p>
<script type="math/tex; mode=display">
\rho=\rho(\mathrm{CO} / \mathrm{Ni})-\rho(\mathrm{CO})-\rho(\mathrm{Ni})</script><p><img src="/images/chgdiff/chgdiff1.png" alt></p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以可以邮件至 vaspkit@gmail.com </span>
    </div>
</article>


<p>
    <a href="javascript:void(0)" class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span>文章标题:</span>Charge density difference</p>
    
    <p><span>本文作者:</span><a href="javascript:void(0)" title="VASPKIT">VASPKIT</a></p>
    <p><span>发布时间:</span>2019-06-03, 00:00:00</p>
    <p><span>最后更新:</span>2019-06-20, 01:01:20</p>
    <span>原始链接:</span><a class="post-url" href="/2019/06/03/chgdiff/" title="Charge density difference">http://vaspkit.com/2019/06/03/chgdiff/</a>
    <p>
        <span>版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target="_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>




    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async src="//cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<input type="hidden" id="MathJax-js" value="//cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">

    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2016-2019 Yelog</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class id="rocket" href="javascript:void(0)"></a>
    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
<script src="//cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>

<script src="/js/script.js?v=1"></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['@V. Wang','@Nan Xu','#VASP','#能带','#vaspkit','#Band structure',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1;
            var $numbering = $('<ul/>').addClass('pre-numbering').attr("unselectable","on");
            $(this).addClass('has-numbering')
                    .parent()
                    .append($numbering);
            for(i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
</style>

<!--自定义样式设置-->
<style>
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    
    .post .pjax article blockquote {
        padding: 10px 20px;
        background-color: white;
        border: none;
        border-left: 4px solid #42b983;
        border-right: 4px solid #42b983;
        border-radius: 10px;
    }
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.1;
        background: url("http://img.xiangzhangshugongyi.com/FlSExUGfRSaqxkK5v42CpuI-tXAL.jpg");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
